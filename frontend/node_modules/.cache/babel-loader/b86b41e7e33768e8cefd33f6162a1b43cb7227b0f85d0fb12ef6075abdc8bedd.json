{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';// Custom Check Icon\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomCheckIcon=()=>/*#__PURE__*/_jsx(motion.div,{className:\"relative h-16 w-16\",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{duration:0.9,ease:[0.68,-0.55,0.265,1.55],type:'spring',stiffness:90,damping:25}},exit:{scale:0,opacity:0,transition:{duration:0.5,ease:'easeInOut'}},children:/*#__PURE__*/_jsx(motion.svg,{className:\"h-full w-full text-purple-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:3,initial:{pathLength:0,rotate:-45},animate:{pathLength:1,rotate:0,transition:{duration:1.2,ease:[0.68,-0.55,0.265,1.55]}},children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M5 13l4 4L19 7\"})})});// Custom Loading Spinner\nconst CustomLoadingSpinner=()=>/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center justify-center\",initial:{opacity:0},animate:{opacity:1,transition:{duration:0.6,ease:'easeInOut'}},exit:{opacity:0,transition:{duration:0.6,ease:'easeInOut'}},children:[/*#__PURE__*/_jsx(motion.div,{className:\"h-10 w-10 border-4 border-purple-600 border-t-transparent rounded-full\",animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:'linear'}}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-3 text-purple-600 text-sm font-medium\",children:\"\\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})]});// Custom Violation Icon\nconst CustomViolationIcon=()=>/*#__PURE__*/_jsx(\"div\",{className:\"h-8 w-8 sm:h-10 sm:w-10 text-red-600\",children:/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12 9v2m0 4h.01M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M12 17v.01\"})]})});function Violations(){const[showSuccessAnimation,setShowSuccessAnimation]=useState(false);const[successMessage,setSuccessMessage]=useState('');const[errorMessage,setErrorMessage]=useState('');const[loading,setLoading]=useState(false);const[violations,setViolations]=useState([]);const[formData,setFormData]=useState({employeeCode:'',employeeName:'',department:'',violationPrice:'',date:'',vehicleCode:'',station:'',violationImage:null});const[editId,setEditId]=useState(null);const[selectedImage,setSelectedImage]=useState(null);const[imageError,setImageError]=useState(null);const[showConfirmDialog,setShowConfirmDialog]=useState(false);const[deleteId,setDeleteId]=useState(null);useEffect(()=>{fetchViolations();},[]);const fetchViolations=async()=>{setLoading(true);try{const token=localStorage.getItem('token');if(!token){setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');setLoading(false);return;}console.log('جلب المخالفات من:',`${process.env.REACT_APP_API_URL}/api/violations`);const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/violations`,{headers:{Authorization:`Bearer ${token}`}});if(response.data.success){setViolations(response.data.data||[]);setErrorMessage('');}else{setErrorMessage(response.data.message||'فشل في جلب المخالفات');}}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data;console.error('خطأ في جلب المخالفات:',{message:error.message,status:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status,data:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data});setErrorMessage(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)||'حدث خطأ في جلب البيانات');}setLoading(false);};const fetchEmployeeData=async employeeCode=>{if(!employeeCode||employeeCode.length<1){setFormData({...formData,employeeName:'',department:''});setErrorMessage('');return;}setLoading(true);try{const token=localStorage.getItem('token');if(!token){setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');setLoading(false);return;}console.log('جلب بيانات الموظف للكود:',employeeCode);const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/violations/employee/${employeeCode}`,{headers:{Authorization:`Bearer ${token}`}});if(response.data.success){const{name,department}=response.data.data;setFormData({...formData,employeeName:name,department});setErrorMessage('');}else{setFormData({...formData,employeeName:'',department:''});setErrorMessage(response.data.message||'الموظف غير موجود');}}catch(error){var _error$response4,_error$response5,_error$response6,_error$response6$data;console.error('خطأ في جلب بيانات الموظف:',{message:error.message,status:(_error$response4=error.response)===null||_error$response4===void 0?void 0:_error$response4.status,data:(_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data});setErrorMessage(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||'حدث خطأ في جلب بيانات الموظف');}setLoading(false);};const handleEmployeeCodeBlur=async()=>{await fetchEmployeeData(formData.employeeCode);};const handleInputChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const handleFileChange=e=>{setFormData({...formData,violationImage:e.target.files[0]});};const handleSubmit=async e=>{e.preventDefault();setLoading(true);setErrorMessage('');const requiredFields=['employeeCode','employeeName','violationPrice','date','vehicleCode','station'];const missingFields=requiredFields.filter(field=>!formData[field]);if(missingFields.length>0){setErrorMessage(`يرجى ملء الحقول التالية: ${missingFields.join(', ')}`);setLoading(false);return;}const data=new FormData();Object.keys(formData).forEach(key=>{if(formData[key]!==null){data.append(key,formData[key]);}});try{const token=localStorage.getItem('token');if(!token){setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');setLoading(false);return;}console.log('إرسال بيانات المخالفة:',Object.fromEntries(data));if(editId){await axios.put(`${process.env.REACT_APP_API_URL}/api/violations/${editId}`,data,{headers:{Authorization:`Bearer ${token}`}});setSuccessMessage('تم تعديل المخالفة بنجاح');}else{await axios.post(`${process.env.REACT_APP_API_URL}/api/violations`,data,{headers:{Authorization:`Bearer ${token}`}});setSuccessMessage('تم إضافة المخالفة بنجاح');}setShowSuccessAnimation(true);setTimeout(()=>{setShowSuccessAnimation(false);setLoading(false);fetchViolations();resetForm();},1500);}catch(error){var _error$response7,_error$response8,_error$response9,_error$response9$data;console.error('خطأ في حفظ المخالفة:',{message:error.message,status:(_error$response7=error.response)===null||_error$response7===void 0?void 0:_error$response7.status,data:(_error$response8=error.response)===null||_error$response8===void 0?void 0:_error$response8.data});setErrorMessage(((_error$response9=error.response)===null||_error$response9===void 0?void 0:(_error$response9$data=_error$response9.data)===null||_error$response9$data===void 0?void 0:_error$response9$data.message)||'حدث خطأ أثناء الحفظ');setLoading(false);}};const handleEdit=violation=>{setFormData({employeeCode:violation.employeeCode,employeeName:violation.employeeName,department:violation.department||'',violationPrice:violation.violationPrice,date:violation.date.split('T')[0],vehicleCode:violation.vehicleCode,station:violation.station,violationImage:null});setEditId(violation._id);setErrorMessage('');};const handleDelete=async()=>{setLoading(true);setErrorMessage('');try{const token=localStorage.getItem('token');if(!token){setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');setLoading(false);setShowConfirmDialog(false);return;}await axios.delete(`${process.env.REACT_APP_API_URL}/api/violations/${deleteId}`,{headers:{Authorization:`Bearer ${token}`}});setSuccessMessage('تم حذف المخالفة بنجاح');setShowSuccessAnimation(true);setTimeout(()=>{setShowSuccessAnimation(false);setLoading(false);fetchViolations();setShowConfirmDialog(false);setDeleteId(null);},1500);}catch(error){var _error$response0,_error$response1,_error$response10,_error$response10$dat;console.error('خطأ في حذف المخالفة:',{message:error.message,status:(_error$response0=error.response)===null||_error$response0===void 0?void 0:_error$response0.status,data:(_error$response1=error.response)===null||_error$response1===void 0?void 0:_error$response1.data});setErrorMessage(((_error$response10=error.response)===null||_error$response10===void 0?void 0:(_error$response10$dat=_error$response10.data)===null||_error$response10$dat===void 0?void 0:_error$response10$dat.message)||'حدث خطأ أثناء الحذف');setLoading(false);setShowConfirmDialog(false);setDeleteId(null);}};const handleShowConfirmDialog=id=>{setDeleteId(id);setShowConfirmDialog(true);};const handleCancelDelete=()=>{setShowConfirmDialog(false);setDeleteId(null);};const resetForm=()=>{setFormData({employeeCode:'',employeeName:'',department:'',violationPrice:'',date:'',vehicleCode:'',station:'',violationImage:null});setEditId(null);setErrorMessage('');};const handleImageClick=imageUrl=>{const fullImageUrl=`${process.env.REACT_APP_API_URL}${imageUrl}`;console.log('تم تحديد الصورة:',fullImageUrl);setSelectedImage(imageUrl);setImageError(null);};const handleCloseModal=()=>{setSelectedImage(null);setImageError(null);};const handleImageError=e=>{console.error('فشل تحميل الصورة:',e.target.src,{status:e.target.status,statusText:e.target.statusText});setImageError(`فشل تحميل الصورة: ${e.target.src}. تحقق من أن الصورة موجودة على الخادم أو حاول رفع صورة جديدة.`);};const cardVariants={hidden:{opacity:0,y:30,scale:0.95},visible:{opacity:1,y:0,scale:1,transition:{duration:0.9,ease:[0.68,-0.55,0.265,1.55],type:'spring',stiffness:90,damping:25,staggerChildren:0.2}},hover:{scale:1.03,boxShadow:'0 8px 24px rgba(139, 92, 246, 0.25)',transition:{duration:0.6,ease:'easeInOut'}},tap:{scale:0.98,transition:{duration:0.3,ease:'easeInOut'}}};const cardChildVariants={hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:0.7,ease:[0.68,-0.55,0.265,1.55]}}};const imageVariants={hidden:{opacity:0,scale:0.8},visible:{opacity:1,scale:1,transition:{duration:0.7,ease:[0.68,-0.55,0.265,1.55]}},hover:{scale:1.12,boxShadow:'0 6px 16px rgba(139, 92, 246, 0.35)',transition:{duration:0.6,ease:'easeInOut'}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 p-4 sm:p-6 md:p-8 font-noto-sans-arabic relative dir=rtl overflow-auto\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"absolute inset-0 bg-gradient-to-br from-blue-100/30 via-purple-100/30 to-pink-100/30\",animate:{background:['linear-gradient(135deg, rgba(219, 234, 254, 0.3), rgba(221, 214, 254, 0.3), rgba(252, 231, 243, 0.3))','linear-gradient(135deg, rgba(219, 234, 254, 0.5), rgba(221, 214, 254, 0.5), rgba(252, 231, 243, 0.5))','linear-gradient(135deg, rgba(219, 234, 254, 0.3), rgba(221, 214, 254, 0.3), rgba(252, 231, 243, 0.3))']},transition:{duration:15,repeat:Infinity,repeatType:'reverse',ease:'easeInOut'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto relative z-10 max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-5xl\",children:[/*#__PURE__*/_jsx(motion.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.9,ease:[0.68,-0.55,0.265,1.55],type:'spring',stiffness:90,damping:25},className:\"text-3xl sm:text-4xl md:text-5xl font-extrabold text-gray-900 mb-8 sm:mb-10 text-right tracking-tight drop-shadow-lg\",children:\"\\u0635\\u0641\\u062D\\u0629 \\u0627\\u0644\\u0645\\u062E\\u0627\\u0644\\u0641\\u0627\\u062A\"}),loading&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.6,ease:'easeInOut'},className:\"flex justify-center mb-8\",children:/*#__PURE__*/_jsx(CustomLoadingSpinner,{})}),successMessage&&!loading&&/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:0.6,ease:'easeInOut'},className:\"text-gray-800 bg-white/90 backdrop-blur-sm border border-purple-200/50 p-4 rounded-xl shadow-xl mb-6 text-right text-sm sm:text-base\",children:successMessage}),errorMessage&&!loading&&/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},transition:{duration:0.6,ease:'easeInOut'},className:\"text-red-600 bg-red-50/90 backdrop-blur-sm border border-red-200/50 p-4 rounded-xl shadow-xl mb-6 text-right text-sm sm:text-base\",children:errorMessage}),/*#__PURE__*/_jsxs(motion.div,{initial:\"hidden\",animate:\"visible\",variants:cardVariants,className:\"bg-white/90 backdrop-blur-sm p-6 sm:p-8 rounded-2xl shadow-xl mb-8 border border-purple-200/50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 space-x-reverse mb-6\",children:[/*#__PURE__*/_jsx(CustomViolationIcon,{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl sm:text-2xl font-bold text-gray-900\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0645\\u062E\\u0627\\u0644\\u0641\\u0629 \\u062C\\u062F\\u064A\\u062F\\u0629 \\u0623\\u0648 \\u062A\\u0639\\u062F\\u064A\\u0644\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4 text-right\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeCode\",placeholder:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",value:formData.employeeCode,onChange:handleInputChange,onBlur:handleEmployeeCodeBlur,className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeName\",placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",value:formData.employeeName,onChange:handleInputChange,className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none text-right bg-gray-50/50 backdrop-blur-sm shadow-sm\",readOnly:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"department\",placeholder:\"\\u0627\\u0644\\u0642\\u0633\\u0645\",value:formData.department,onChange:handleInputChange,className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none text-right bg-gray-50/50 backdrop-blur-sm shadow-sm\",readOnly:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"violationPrice\",placeholder:\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0645\\u062E\\u0627\\u0644\\u0641\\u0629\",value:formData.violationPrice,onChange:handleInputChange,className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"date\",value:formData.date,onChange:handleInputChange,className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"vehicleCode\",placeholder:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0639\\u0631\\u0628\\u064A\\u0629\",value:formData.vehicleCode,onChange:handleInputChange,className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"station\",placeholder:\"\\u0627\\u0644\\u0645\\u062D\\u0637\\u0629\",value:formData.station,onChange:handleInputChange,className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",name:\"violationImage\",onChange:handleFileChange,accept:\"image/*\",className:\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-purple-600 text-white p-3 rounded-lg font-bold hover:bg-purple-700 transition-all duration-600 shadow-md hover:shadow-lg\",children:editId?'حفظ التعديل':'إضافة مخالفة'}),editId&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:resetForm,className:\"w-full bg-gray-600 text-white p-3 rounded-lg font-bold hover:bg-gray-700 transition-all duration-600 shadow-md hover:shadow-lg mt-2\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\"})]})]}),/*#__PURE__*/_jsx(motion.div,{initial:\"hidden\",animate:\"visible\",variants:cardVariants,className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8\",children:violations.map(violation=>/*#__PURE__*/_jsxs(motion.div,{variants:cardChildVariants,whileHover:\"hover\",whileTap:\"tap\",className:\"bg-white/90 backdrop-blur-sm p-6 sm:p-8 rounded-2xl shadow-xl transition-all duration-600 border border-purple-200/50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(CustomViolationIcon,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-right flex-1\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl sm:text-2xl font-bold text-gray-900\",children:[\"\\u0643\\u0648\\u062F: \",violation.employeeCode]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm sm:text-base\",children:[\"\\u0627\\u0644\\u0627\\u0633\\u0645: \",violation.employeeName]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm sm:text-base\",children:[\"\\u0627\\u0644\\u0642\\u0633\\u0645: \",violation.department||'غير محدد']}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm sm:text-base\",children:[\"\\u0633\\u0639\\u0631 \\u0627\\u0644\\u0645\\u062E\\u0627\\u0644\\u0641\\u0629: \",violation.violationPrice]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm sm:text-base\",children:[\"\\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E: \",new Date(violation.date).toLocaleDateString('ar-EG')]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm sm:text-base\",children:[\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0639\\u0631\\u0628\\u064A\\u0629: \",violation.vehicleCode]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm sm:text-base\",children:[\"\\u0627\\u0644\\u0645\\u062D\\u0637\\u0629: \",violation.station]}),violation.violationImage&&/*#__PURE__*/_jsx(motion.img,{src:`${process.env.REACT_APP_API_URL}${violation.violationImage}`,alt:\"\\u0635\\u0648\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062E\\u0627\\u0644\\u0641\\u0629\",variants:imageVariants,initial:\"hidden\",animate:\"visible\",whileHover:\"hover\",className:\"w-32 h-32 object-cover rounded-lg mt-2 cursor-pointer shadow-md\",onClick:()=>handleImageClick(violation.violationImage),onError:e=>{console.error('فشل تحميل الصورة:',e.target.src);e.target.src='/placeholder-image.jpg';// صورة احتياطية\n}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-end space-x-2 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(violation),className:\"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-all duration-600 shadow-sm hover:shadow-md\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleShowConfirmDialog(violation._id),className:\"bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-all duration-600 shadow-sm hover:shadow-md\",children:\"\\u062D\\u0630\\u0641\"})]})]},violation._id))}),/*#__PURE__*/_jsx(AnimatePresence,{children:selectedImage&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.6,ease:'easeInOut'},className:\"fixed inset-0 flex items-center justify-center bg-black/80 z-50 p-4\",onClick:handleCloseModal,children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.7,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.7,opacity:0},transition:{duration:0.6,ease:[0.68,-0.55,0.265,1.55]},className:\"relative max-w-[95vw] max-h-[95vh] flex flex-col items-center justify-center bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-purple-200/50 p-4\",onClick:e=>e.stopPropagation(),children:[imageError?/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center max-w-full max-h-[90vh]\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/placeholder-image.jpg\",alt:\"\\u0635\\u0648\\u0631\\u0629 \\u0627\\u062D\\u062A\\u064A\\u0627\\u0637\\u064A\\u0629\",className:\"max-w-full max-h-[80vh] object-contain rounded-lg shadow-md\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-red-600 text-sm mt-2\",children:imageError})]}):/*#__PURE__*/_jsx(motion.img,{src:`${process.env.REACT_APP_API_URL}${selectedImage}`,alt:\"\\u0635\\u0648\\u0631\\u0629 \\u0627\\u0644\\u0645\\u062E\\u0627\\u0644\\u0641\\u0629 \\u0627\\u0644\\u0645\\u0643\\u0628\\u0631\\u0629\",initial:{opacity:0,scale:0.9},animate:{opacity:1,scale:1},transition:{duration:0.7,ease:[0.68,-0.55,0.265,1.55]},className:\"max-w-full max-h-[90vh] object-contain rounded-lg shadow-lg\",onError:handleImageError,onLoad:()=>console.log('تم تحميل الصورة المكبرة بنجاح:',`${process.env.REACT_APP_API_URL}${selectedImage}`)}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCloseModal,className:\"absolute top-4 right-4 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-lg font-bold hover:bg-red-700 transition-all duration-600 shadow-sm hover:shadow-md\",children:\"\\xD7\"})]})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showConfirmDialog&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.6,ease:'easeInOut'},className:\"fixed inset-0 flex items-center justify-center bg-black/80 z-50 p-4\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.7,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.7,opacity:0},transition:{duration:0.6,ease:[0.68,-0.55,0.265,1.55]},className:\"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-purple-200/50 text-right max-w-sm w-full\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold text-gray-900 mb-4\",children:\"\\u062A\\u0623\\u0643\\u064A\\u062F \\u0627\\u0644\\u062D\\u0630\\u0641\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"\\u0647\\u0644 \\u0623\\u0646\\u062A \\u0645\\u062A\\u0623\\u0643\\u062F \\u0623\\u0646\\u0643 \\u062A\\u0631\\u064A\\u062F \\u062D\\u0630\\u0641 \\u0647\\u0630\\u0647 \\u0627\\u0644\\u0645\\u062E\\u0627\\u0644\\u0641\\u0629\\u061F \\u0644\\u0627 \\u064A\\u0645\\u0643\\u0646 \\u0627\\u0644\\u062A\\u0631\\u0627\\u062C\\u0639 \\u0639\\u0646 \\u0647\\u0630\\u0627 \\u0627\\u0644\\u0625\\u062C\\u0631\\u0627\\u0621.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-2 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,className:\"bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-all duration-600 shadow-sm hover:shadow-md\",children:\"\\u0646\\u0639\\u0645\\u060C \\u0627\\u062D\\u0630\\u0641\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleCancelDelete,className:\"bg-gray-600 text-white p-2 rounded-lg hover:bg-gray-700 transition-all duration-600 shadow-sm hover:shadow-md\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showSuccessAnimation&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.5},animate:{scale:1,opacity:1},exit:{opacity:0,scale:0.5},transition:{duration:0.9,ease:[0.68,-0.55,0.265,1.55],type:'spring',stiffness:90,damping:25},className:\"fixed inset-0 flex items-center justify-center bg-black/50 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/90 backdrop-blur-sm p-8 rounded-full shadow-xl border border-purple-200/50\",children:/*#__PURE__*/_jsx(CustomCheckIcon,{})})})})]})]});}export default Violations;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","axios","jsx","_jsx","jsxs","_jsxs","CustomCheckIcon","div","className","initial","scale","opacity","animate","transition","duration","ease","type","stiffness","damping","exit","children","svg","fill","viewBox","stroke","strokeWidth","pathLength","rotate","strokeLinecap","strokeLinejoin","d","CustomLoadingSpinner","repeat","Infinity","CustomViolationIcon","Violations","showSuccessAnimation","setShowSuccessAnimation","successMessage","setSuccessMessage","errorMessage","setErrorMessage","loading","setLoading","violations","setViolations","formData","setFormData","employeeCode","employeeName","department","violationPrice","date","vehicleCode","station","violationImage","editId","setEditId","selectedImage","setSelectedImage","imageError","setImageError","showConfirmDialog","setShowConfirmDialog","deleteId","setDeleteId","fetchViolations","token","localStorage","getItem","console","log","process","env","REACT_APP_API_URL","response","get","headers","Authorization","data","success","message","error","_error$response","_error$response2","_error$response3","_error$response3$data","status","fetchEmployeeData","length","name","_error$response4","_error$response5","_error$response6","_error$response6$data","handleEmployeeCodeBlur","handleInputChange","e","value","target","handleFileChange","files","handleSubmit","preventDefault","requiredFields","missingFields","filter","field","join","FormData","Object","keys","forEach","key","append","fromEntries","put","post","setTimeout","resetForm","_error$response7","_error$response8","_error$response9","_error$response9$data","handleEdit","violation","split","_id","handleDelete","delete","_error$response0","_error$response1","_error$response10","_error$response10$dat","handleShowConfirmDialog","id","handleCancelDelete","handleImageClick","imageUrl","fullImageUrl","handleCloseModal","handleImageError","src","statusText","cardVariants","hidden","y","visible","staggerChildren","hover","boxShadow","tap","cardChildVariants","x","imageVariants","background","repeatType","h2","p","variants","onSubmit","placeholder","onChange","onBlur","required","readOnly","accept","onClick","map","whileHover","whileTap","Date","toLocaleDateString","img","alt","onError","stopPropagation","onLoad"],"sources":["/root/NileMIX-System_HR/frontend/src/components/Violations.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\n\n// Custom Check Icon\nconst CustomCheckIcon = () => (\n  <motion.div\n    className=\"relative h-16 w-16\"\n    initial={{ scale: 0, opacity: 0 }}\n    animate={{ scale: 1, opacity: 1, transition: { duration: 0.9, ease: [0.68, -0.55, 0.265, 1.55], type: 'spring', stiffness: 90, damping: 25 } }}\n    exit={{ scale: 0, opacity: 0, transition: { duration: 0.5, ease: 'easeInOut' } }}\n  >\n    <motion.svg\n      className=\"h-full w-full text-purple-600\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={3}\n      initial={{ pathLength: 0, rotate: -45 }}\n      animate={{ pathLength: 1, rotate: 0, transition: { duration: 1.2, ease: [0.68, -0.55, 0.265, 1.55] } }}\n    >\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n    </motion.svg>\n  </motion.div>\n);\n\n// Custom Loading Spinner\nconst CustomLoadingSpinner = () => (\n  <motion.div\n    className=\"flex items-center justify-center\"\n    initial={{ opacity: 0 }}\n    animate={{ opacity: 1, transition: { duration: 0.6, ease: 'easeInOut' } }}\n    exit={{ opacity: 0, transition: { duration: 0.6, ease: 'easeInOut' } }}\n  >\n    <motion.div\n      className=\"h-10 w-10 border-4 border-purple-600 border-t-transparent rounded-full\"\n      animate={{ rotate: 360 }}\n      transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n    />\n    <span className=\"mr-3 text-purple-600 text-sm font-medium\">جارٍ التحميل...</span>\n  </motion.div>\n);\n\n// Custom Violation Icon\nconst CustomViolationIcon = () => (\n  <div className=\"h-8 w-8 sm:h-10 sm:w-10 text-red-600\">\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M12 9v2m0 4h.01M12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2z\" />\n      <path d=\"M12 17v.01\" />\n    </svg>\n  </div>\n);\n\nfunction Violations() {\n  const [showSuccessAnimation, setShowSuccessAnimation] = useState(false);\n  const [successMessage, setSuccessMessage] = useState('');\n  const [errorMessage, setErrorMessage] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [violations, setViolations] = useState([]);\n  const [formData, setFormData] = useState({\n    employeeCode: '',\n    employeeName: '',\n    department: '',\n    violationPrice: '',\n    date: '',\n    vehicleCode: '',\n    station: '',\n    violationImage: null,\n  });\n  const [editId, setEditId] = useState(null);\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [imageError, setImageError] = useState(null);\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [deleteId, setDeleteId] = useState(null);\n\n  useEffect(() => {\n    fetchViolations();\n  }, []);\n\n  const fetchViolations = async () => {\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');\n        setLoading(false);\n        return;\n      }\n      console.log('جلب المخالفات من:', `${process.env.REACT_APP_API_URL}/api/violations`);\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/violations`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (response.data.success) {\n        setViolations(response.data.data || []);\n        setErrorMessage('');\n      } else {\n        setErrorMessage(response.data.message || 'فشل في جلب المخالفات');\n      }\n    } catch (error) {\n      console.error('خطأ في جلب المخالفات:', {\n        message: error.message,\n        status: error.response?.status,\n        data: error.response?.data,\n      });\n      setErrorMessage(error.response?.data?.message || 'حدث خطأ في جلب البيانات');\n    }\n    setLoading(false);\n  };\n\n  const fetchEmployeeData = async (employeeCode) => {\n    if (!employeeCode || employeeCode.length < 1) {\n      setFormData({ ...formData, employeeName: '', department: '' });\n      setErrorMessage('');\n      return;\n    }\n    setLoading(true);\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');\n        setLoading(false);\n        return;\n      }\n      console.log('جلب بيانات الموظف للكود:', employeeCode);\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/violations/employee/${employeeCode}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      if (response.data.success) {\n        const { name, department } = response.data.data;\n        setFormData({ ...formData, employeeName: name, department });\n        setErrorMessage('');\n      } else {\n        setFormData({ ...formData, employeeName: '', department: '' });\n        setErrorMessage(response.data.message || 'الموظف غير موجود');\n      }\n    } catch (error) {\n      console.error('خطأ في جلب بيانات الموظف:', {\n        message: error.message,\n        status: error.response?.status,\n        data: error.response?.data,\n      });\n      setErrorMessage(error.response?.data?.message || 'حدث خطأ في جلب بيانات الموظف');\n    }\n    setLoading(false);\n  };\n\n  const handleEmployeeCodeBlur = async () => {\n    await fetchEmployeeData(formData.employeeCode);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData({ ...formData, [name]: value });\n  };\n\n  const handleFileChange = (e) => {\n    setFormData({ ...formData, violationImage: e.target.files[0] });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setErrorMessage('');\n    const requiredFields = ['employeeCode', 'employeeName', 'violationPrice', 'date', 'vehicleCode', 'station'];\n    const missingFields = requiredFields.filter((field) => !formData[field]);\n    if (missingFields.length > 0) {\n      setErrorMessage(`يرجى ملء الحقول التالية: ${missingFields.join(', ')}`);\n      setLoading(false);\n      return;\n    }\n    const data = new FormData();\n    Object.keys(formData).forEach((key) => {\n      if (formData[key] !== null) {\n        data.append(key, formData[key]);\n      }\n    });\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');\n        setLoading(false);\n        return;\n      }\n      console.log('إرسال بيانات المخالفة:', Object.fromEntries(data));\n      if (editId) {\n        await axios.put(`${process.env.REACT_APP_API_URL}/api/violations/${editId}`, data, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setSuccessMessage('تم تعديل المخالفة بنجاح');\n      } else {\n        await axios.post(`${process.env.REACT_APP_API_URL}/api/violations`, data, {\n          headers: { Authorization: `Bearer ${token}` },\n        });\n        setSuccessMessage('تم إضافة المخالفة بنجاح');\n      }\n      setShowSuccessAnimation(true);\n      setTimeout(() => {\n        setShowSuccessAnimation(false);\n        setLoading(false);\n        fetchViolations();\n        resetForm();\n      }, 1500);\n    } catch (error) {\n      console.error('خطأ في حفظ المخالفة:', {\n        message: error.message,\n        status: error.response?.status,\n        data: error.response?.data,\n      });\n      setErrorMessage(error.response?.data?.message || 'حدث خطأ أثناء الحفظ');\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (violation) => {\n    setFormData({\n      employeeCode: violation.employeeCode,\n      employeeName: violation.employeeName,\n      department: violation.department || '',\n      violationPrice: violation.violationPrice,\n      date: violation.date.split('T')[0],\n      vehicleCode: violation.vehicleCode,\n      station: violation.station,\n      violationImage: null,\n    });\n    setEditId(violation._id);\n    setErrorMessage('');\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    setErrorMessage('');\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setErrorMessage('التوكن غير موجود، يرجى تسجيل الدخول مرة أخرى');\n        setLoading(false);\n        setShowConfirmDialog(false);\n        return;\n      }\n      await axios.delete(`${process.env.REACT_APP_API_URL}/api/violations/${deleteId}`, {\n        headers: { Authorization: `Bearer ${token}` },\n      });\n      setSuccessMessage('تم حذف المخالفة بنجاح');\n      setShowSuccessAnimation(true);\n      setTimeout(() => {\n        setShowSuccessAnimation(false);\n        setLoading(false);\n        fetchViolations();\n        setShowConfirmDialog(false);\n        setDeleteId(null);\n      }, 1500);\n    } catch (error) {\n      console.error('خطأ في حذف المخالفة:', {\n        message: error.message,\n        status: error.response?.status,\n        data: error.response?.data,\n      });\n      setErrorMessage(error.response?.data?.message || 'حدث خطأ أثناء الحذف');\n      setLoading(false);\n      setShowConfirmDialog(false);\n      setDeleteId(null);\n    }\n  };\n\n  const handleShowConfirmDialog = (id) => {\n    setDeleteId(id);\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancelDelete = () => {\n    setShowConfirmDialog(false);\n    setDeleteId(null);\n  };\n\n  const resetForm = () => {\n    setFormData({\n      employeeCode: '',\n      employeeName: '',\n      department: '',\n      violationPrice: '',\n      date: '',\n      vehicleCode: '',\n      station: '',\n      violationImage: null,\n    });\n    setEditId(null);\n    setErrorMessage('');\n  };\n\n  const handleImageClick = (imageUrl) => {\n    const fullImageUrl = `${process.env.REACT_APP_API_URL}${imageUrl}`;\n    console.log('تم تحديد الصورة:', fullImageUrl);\n    setSelectedImage(imageUrl);\n    setImageError(null);\n  };\n\n  const handleCloseModal = () => {\n    setSelectedImage(null);\n    setImageError(null);\n  };\n\n  const handleImageError = (e) => {\n    console.error('فشل تحميل الصورة:', e.target.src, {\n      status: e.target.status,\n      statusText: e.target.statusText,\n    });\n    setImageError(`فشل تحميل الصورة: ${e.target.src}. تحقق من أن الصورة موجودة على الخادم أو حاول رفع صورة جديدة.`);\n  };\n\n  const cardVariants = {\n    hidden: { opacity: 0, y: 30, scale: 0.95 },\n    visible: {\n      opacity: 1,\n      y: 0,\n      scale: 1,\n      transition: {\n        duration: 0.9,\n        ease: [0.68, -0.55, 0.265, 1.55],\n        type: 'spring',\n        stiffness: 90,\n        damping: 25,\n        staggerChildren: 0.2,\n      },\n    },\n    hover: { scale: 1.03, boxShadow: '0 8px 24px rgba(139, 92, 246, 0.25)', transition: { duration: 0.6, ease: 'easeInOut' } },\n    tap: { scale: 0.98, transition: { duration: 0.3, ease: 'easeInOut' } },\n  };\n\n  const cardChildVariants = {\n    hidden: { opacity: 0, x: 20 },\n    visible: {\n      opacity: 1,\n      x: 0,\n      transition: {\n        duration: 0.7,\n        ease: [0.68, -0.55, 0.265, 1.55],\n      },\n    },\n  };\n\n  const imageVariants = {\n    hidden: { opacity: 0, scale: 0.8 },\n    visible: { opacity: 1, scale: 1, transition: { duration: 0.7, ease: [0.68, -0.55, 0.265, 1.55] } },\n    hover: { scale: 1.12, boxShadow: '0 6px 16px rgba(139, 92, 246, 0.35)', transition: { duration: 0.6, ease: 'easeInOut' } },\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 p-4 sm:p-6 md:p-8 font-noto-sans-arabic relative dir=rtl overflow-auto\">\n      <motion.div\n        className=\"absolute inset-0 bg-gradient-to-br from-blue-100/30 via-purple-100/30 to-pink-100/30\"\n        animate={{\n          background: [\n            'linear-gradient(135deg, rgba(219, 234, 254, 0.3), rgba(221, 214, 254, 0.3), rgba(252, 231, 243, 0.3))',\n            'linear-gradient(135deg, rgba(219, 234, 254, 0.5), rgba(221, 214, 254, 0.5), rgba(252, 231, 243, 0.5))',\n            'linear-gradient(135deg, rgba(219, 234, 254, 0.3), rgba(221, 214, 254, 0.3), rgba(252, 231, 243, 0.3))',\n          ],\n        }}\n        transition={{ duration: 15, repeat: Infinity, repeatType: 'reverse', ease: 'easeInOut' }}\n      />\n      <div className=\"container mx-auto relative z-10 max-w-md sm:max-w-lg md:max-w-2xl lg:max-w-5xl\">\n        <motion.h2\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.9, ease: [0.68, -0.55, 0.265, 1.55], type: 'spring', stiffness: 90, damping: 25 }}\n          className=\"text-3xl sm:text-4xl md:text-5xl font-extrabold text-gray-900 mb-8 sm:mb-10 text-right tracking-tight drop-shadow-lg\"\n        >\n          صفحة المخالفات\n        </motion.h2>\n        {loading && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.6, ease: 'easeInOut' }}\n            className=\"flex justify-center mb-8\"\n          >\n            <CustomLoadingSpinner />\n          </motion.div>\n        )}\n        {successMessage && !loading && (\n          <motion.p\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.6, ease: 'easeInOut' }}\n            className=\"text-gray-800 bg-white/90 backdrop-blur-sm border border-purple-200/50 p-4 rounded-xl shadow-xl mb-6 text-right text-sm sm:text-base\"\n          >\n            {successMessage}\n          </motion.p>\n        )}\n        {errorMessage && !loading && (\n          <motion.p\n            initial={{ opacity: 0, y: -10 }}\n            animate={{ opacity: 1, y: 0 }}\n            exit={{ opacity: 0 }}\n            transition={{ duration: 0.6, ease: 'easeInOut' }}\n            className=\"text-red-600 bg-red-50/90 backdrop-blur-sm border border-red-200/50 p-4 rounded-xl shadow-xl mb-6 text-right text-sm sm:text-base\"\n          >\n            {errorMessage}\n          </motion.p>\n        )}\n        {/* نموذج الإضافة/التعديل */}\n        <motion.div\n          initial=\"hidden\"\n          animate=\"visible\"\n          variants={cardVariants}\n          className=\"bg-white/90 backdrop-blur-sm p-6 sm:p-8 rounded-2xl shadow-xl mb-8 border border-purple-200/50\"\n        >\n          <div className=\"flex items-center space-x-4 space-x-reverse mb-6\">\n            <CustomViolationIcon />\n            <h3 className=\"text-xl sm:text-2xl font-bold text-gray-900\">تسجيل مخالفة جديدة أو تعديل</h3>\n          </div>\n          <form onSubmit={handleSubmit} className=\"space-y-4 text-right\">\n            <input\n              type=\"text\"\n              name=\"employeeCode\"\n              placeholder=\"كود الموظف\"\n              value={formData.employeeCode}\n              onChange={handleInputChange}\n              onBlur={handleEmployeeCodeBlur}\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\"\n              required\n            />\n            <input\n              type=\"text\"\n              name=\"employeeName\"\n              placeholder=\"اسم الموظف\"\n              value={formData.employeeName}\n              onChange={handleInputChange}\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none text-right bg-gray-50/50 backdrop-blur-sm shadow-sm\"\n              readOnly\n            />\n            <input\n              type=\"text\"\n              name=\"department\"\n              placeholder=\"القسم\"\n              value={formData.department}\n              onChange={handleInputChange}\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none text-right bg-gray-50/50 backdrop-blur-sm shadow-sm\"\n              readOnly\n            />\n            <input\n              type=\"number\"\n              name=\"violationPrice\"\n              placeholder=\"سعر المخالفة\"\n              value={formData.violationPrice}\n              onChange={handleInputChange}\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\"\n              required\n            />\n            <input\n              type=\"date\"\n              name=\"date\"\n              value={formData.date}\n              onChange={handleInputChange}\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\"\n              required\n            />\n            <input\n              type=\"text\"\n              name=\"vehicleCode\"\n              placeholder=\"كود العربية\"\n              value={formData.vehicleCode}\n              onChange={handleInputChange}\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\"\n              required\n            />\n            <input\n              type=\"text\"\n              name=\"station\"\n              placeholder=\"المحطة\"\n              value={formData.station}\n              onChange={handleInputChange}\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\"\n              required\n            />\n            <input\n              type=\"file\"\n              name=\"violationImage\"\n              onChange={handleFileChange}\n              accept=\"image/*\"\n              className=\"w-full p-3 border border-purple-200/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-600 text-right bg-white/70 backdrop-blur-sm transition-all duration-600 shadow-sm hover:shadow-md\"\n            />\n            <button\n              type=\"submit\"\n              className=\"w-full bg-purple-600 text-white p-3 rounded-lg font-bold hover:bg-purple-700 transition-all duration-600 shadow-md hover:shadow-lg\"\n            >\n              {editId ? 'حفظ التعديل' : 'إضافة مخالفة'}\n            </button>\n            {editId && (\n              <button\n                type=\"button\"\n                onClick={resetForm}\n                className=\"w-full bg-gray-600 text-white p-3 rounded-lg font-bold hover:bg-gray-700 transition-all duration-600 shadow-md hover:shadow-lg mt-2\"\n              >\n                إلغاء التعديل\n              </button>\n            )}\n          </form>\n        </motion.div>\n        {/* عرض القائمة في كاردات */}\n        <motion.div\n          initial=\"hidden\"\n          animate=\"visible\"\n          variants={cardVariants}\n          className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8\"\n        >\n          {violations.map((violation) => (\n            <motion.div\n              key={violation._id}\n              variants={cardChildVariants}\n              whileHover=\"hover\"\n              whileTap=\"tap\"\n              className=\"bg-white/90 backdrop-blur-sm p-6 sm:p-8 rounded-2xl shadow-xl transition-all duration-600 border border-purple-200/50\"\n            >\n              <div className=\"flex items-center space-x-4 space-x-reverse\">\n                <CustomViolationIcon />\n                <div className=\"text-right flex-1\">\n                  <h3 className=\"text-xl sm:text-2xl font-bold text-gray-900\">كود: {violation.employeeCode}</h3>\n                  <p className=\"text-gray-600 text-sm sm:text-base\">الاسم: {violation.employeeName}</p>\n                  <p className=\"text-gray-600 text-sm sm:text-base\">القسم: {violation.department || 'غير محدد'}</p>\n                  <p className=\"text-gray-600 text-sm sm:text-base\">سعر المخالفة: {violation.violationPrice}</p>\n                  <p className=\"text-gray-600 text-sm sm:text-base\">التاريخ: {new Date(violation.date).toLocaleDateString('ar-EG')}</p>\n                  <p className=\"text-gray-600 text-sm sm:text-base\">كود العربية: {violation.vehicleCode}</p>\n                  <p className=\"text-gray-600 text-sm sm:text-base\">المحطة: {violation.station}</p>\n                  {violation.violationImage && (\n                    <motion.img\n                      src={`${process.env.REACT_APP_API_URL}${violation.violationImage}`}\n                      alt=\"صورة المخالفة\"\n                      variants={imageVariants}\n                      initial=\"hidden\"\n                      animate=\"visible\"\n                      whileHover=\"hover\"\n                      className=\"w-32 h-32 object-cover rounded-lg mt-2 cursor-pointer shadow-md\"\n                      onClick={() => handleImageClick(violation.violationImage)}\n                      onError={(e) => {\n                        console.error('فشل تحميل الصورة:', e.target.src);\n                        e.target.src = '/placeholder-image.jpg'; // صورة احتياطية\n                      }}\n                    />\n                  )}\n                </div>\n              </div>\n              <div className=\"mt-4 flex justify-end space-x-2 space-x-reverse\">\n                <button\n                  onClick={() => handleEdit(violation)}\n                  className=\"bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700 transition-all duration-600 shadow-sm hover:shadow-md\"\n                >\n                  تعديل\n                </button>\n                <button\n                  onClick={() => handleShowConfirmDialog(violation._id)}\n                  className=\"bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-all duration-600 shadow-sm hover:shadow-md\"\n                >\n                  حذف\n                </button>\n              </div>\n            </motion.div>\n          ))}\n        </motion.div>\n        {/* مودال تكبير الصورة */}\n        <AnimatePresence>\n          {selectedImage && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.6, ease: 'easeInOut' }}\n              className=\"fixed inset-0 flex items-center justify-center bg-black/80 z-50 p-4\"\n              onClick={handleCloseModal}\n            >\n              <motion.div\n                initial={{ scale: 0.7, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.7, opacity: 0 }}\n                transition={{ duration: 0.6, ease: [0.68, -0.55, 0.265, 1.55] }}\n                className=\"relative max-w-[95vw] max-h-[95vh] flex flex-col items-center justify-center bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-purple-200/50 p-4\"\n                onClick={(e) => e.stopPropagation()}\n              >\n                {imageError ? (\n                  <div className=\"flex flex-col items-center justify-center max-w-full max-h-[90vh]\">\n                    <img\n                      src=\"/placeholder-image.jpg\"\n                      alt=\"صورة احتياطية\"\n                      className=\"max-w-full max-h-[80vh] object-contain rounded-lg shadow-md\"\n                    />\n                    <p className=\"text-red-600 text-sm mt-2\">{imageError}</p>\n                  </div>\n                ) : (\n                  <motion.img\n                    src={`${process.env.REACT_APP_API_URL}${selectedImage}`}\n                    alt=\"صورة المخالفة المكبرة\"\n                    initial={{ opacity: 0, scale: 0.9 }}\n                    animate={{ opacity: 1, scale: 1 }}\n                    transition={{ duration: 0.7, ease: [0.68, -0.55, 0.265, 1.55] }}\n                    className=\"max-w-full max-h-[90vh] object-contain rounded-lg shadow-lg\"\n                    onError={handleImageError}\n                    onLoad={() => console.log('تم تحميل الصورة المكبرة بنجاح:', `${process.env.REACT_APP_API_URL}${selectedImage}`)}\n                  />\n                )}\n                <button\n                  onClick={handleCloseModal}\n                  className=\"absolute top-4 right-4 bg-red-600 text-white rounded-full w-10 h-10 flex items-center justify-center text-lg font-bold hover:bg-red-700 transition-all duration-600 shadow-sm hover:shadow-md\"\n                >\n                  ×\n                </button>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        {/* نافذة تأكيد الحذف */}\n        <AnimatePresence>\n          {showConfirmDialog && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.6, ease: 'easeInOut' }}\n              className=\"fixed inset-0 flex items-center justify-center bg-black/80 z-50 p-4\"\n            >\n              <motion.div\n                initial={{ scale: 0.7, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.7, opacity: 0 }}\n                transition={{ duration: 0.6, ease: [0.68, -0.55, 0.265, 1.55] }}\n                className=\"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-purple-200/50 text-right max-w-sm w-full\"\n              >\n                <h3 className=\"text-lg font-bold text-gray-900 mb-4\">تأكيد الحذف</h3>\n                <p className=\"text-gray-600 mb-6\">هل أنت متأكد أنك تريد حذف هذه المخالفة؟ لا يمكن التراجع عن هذا الإجراء.</p>\n                <div className=\"flex justify-end space-x-2 space-x-reverse\">\n                  <button\n                    onClick={handleDelete}\n                    className=\"bg-red-600 text-white p-2 rounded-lg hover:bg-red-700 transition-all duration-600 shadow-sm hover:shadow-md\"\n                  >\n                    نعم، احذف\n                  </button>\n                  <button\n                    onClick={handleCancelDelete}\n                    className=\"bg-gray-600 text-white p-2 rounded-lg hover:bg-gray-700 transition-all duration-600 shadow-sm hover:shadow-md\"\n                  >\n                    إلغاء\n                  </button>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        {/* نافذة النجاح */}\n        <AnimatePresence>\n          {showSuccessAnimation && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.5 }}\n              animate={{ scale: 1, opacity: 1 }}\n              exit={{ opacity: 0, scale: 0.5 }}\n              transition={{ duration: 0.9, ease: [0.68, -0.55, 0.265, 1.55], type: 'spring', stiffness: 90, damping: 25 }}\n              className=\"fixed inset-0 flex items-center justify-center bg-black/50 z-50\"\n            >\n              <div className=\"bg-white/90 backdrop-blur-sm p-8 rounded-full shadow-xl border border-purple-200/50\">\n                <CustomCheckIcon />\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </div>\n  );\n}\n\nexport default Violations;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,MAAM,CAAEC,eAAe,KAAQ,eAAe,CACvD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBACA,KAAM,CAAAC,eAAe,CAAGA,CAAA,gBACtBH,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTC,SAAS,CAAC,oBAAoB,CAC9BC,OAAO,CAAE,CAAEC,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAE,CAClCC,OAAO,CAAE,CAAEF,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAC,CAAEE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAC,CAAEC,IAAI,CAAE,QAAQ,CAAEC,SAAS,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAG,CAAE,CAAE,CAC/IC,IAAI,CAAE,CAAET,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAC,CAAEE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAE,CAAAK,QAAA,cAEjFjB,IAAA,CAACJ,MAAM,CAACsB,GAAG,EACTb,SAAS,CAAC,+BAA+B,CACzCc,IAAI,CAAC,MAAM,CACXC,OAAO,CAAC,WAAW,CACnBC,MAAM,CAAC,cAAc,CACrBC,WAAW,CAAE,CAAE,CACfhB,OAAO,CAAE,CAAEiB,UAAU,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,EAAG,CAAE,CACxCf,OAAO,CAAE,CAAEc,UAAU,CAAE,CAAC,CAAEC,MAAM,CAAE,CAAC,CAAEd,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAE,CAAE,CAAE,CAAAK,QAAA,cAEvGjB,IAAA,SAAMyB,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,CAAC,CAAC,gBAAgB,CAAE,CAAC,CAC9D,CAAC,CACH,CACb,CAED;AACA,KAAM,CAAAC,oBAAoB,CAAGA,CAAA,gBAC3B1B,KAAA,CAACN,MAAM,CAACQ,GAAG,EACTC,SAAS,CAAC,kCAAkC,CAC5CC,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAEE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAE,CAC1EI,IAAI,CAAE,CAAER,OAAO,CAAE,CAAC,CAAEE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAE,CAAAK,QAAA,eAEvEjB,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTC,SAAS,CAAC,wEAAwE,CAClFI,OAAO,CAAE,CAAEe,MAAM,CAAE,GAAI,CAAE,CACzBd,UAAU,CAAE,CAAEC,QAAQ,CAAE,CAAC,CAAEkB,MAAM,CAAEC,QAAQ,CAAElB,IAAI,CAAE,QAAS,CAAE,CAC/D,CAAC,cACFZ,IAAA,SAAMK,SAAS,CAAC,0CAA0C,CAAAY,QAAA,CAAC,wEAAe,CAAM,CAAC,EACvE,CACb,CAED;AACA,KAAM,CAAAc,mBAAmB,CAAGA,CAAA,gBAC1B/B,IAAA,QAAKK,SAAS,CAAC,sCAAsC,CAAAY,QAAA,cACnDf,KAAA,QAAKkB,OAAO,CAAC,WAAW,CAACD,IAAI,CAAC,MAAM,CAACE,MAAM,CAAC,cAAc,CAACC,WAAW,CAAC,GAAG,CAACG,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAAAT,QAAA,eACrHjB,IAAA,SAAM2B,CAAC,CAAC,wFAAwF,CAAE,CAAC,cACnG3B,IAAA,SAAM2B,CAAC,CAAC,YAAY,CAAE,CAAC,EACpB,CAAC,CACH,CACN,CAED,QAAS,CAAAK,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,oBAAoB,CAAEC,uBAAuB,CAAC,CAAGxC,QAAQ,CAAC,KAAK,CAAC,CACvE,KAAM,CAACyC,cAAc,CAAEC,iBAAiB,CAAC,CAAG1C,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAAC2C,YAAY,CAAEC,eAAe,CAAC,CAAG5C,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAC6C,OAAO,CAAEC,UAAU,CAAC,CAAG9C,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAC+C,UAAU,CAAEC,aAAa,CAAC,CAAGhD,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACiD,QAAQ,CAAEC,WAAW,CAAC,CAAGlD,QAAQ,CAAC,CACvCmD,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,EAAE,CAClBC,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,EAAE,CACfC,OAAO,CAAE,EAAE,CACXC,cAAc,CAAE,IAClB,CAAC,CAAC,CACF,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAG5D,QAAQ,CAAC,IAAI,CAAC,CAC1C,KAAM,CAAC6D,aAAa,CAAEC,gBAAgB,CAAC,CAAG9D,QAAQ,CAAC,IAAI,CAAC,CACxD,KAAM,CAAC+D,UAAU,CAAEC,aAAa,CAAC,CAAGhE,QAAQ,CAAC,IAAI,CAAC,CAClD,KAAM,CAACiE,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGlE,QAAQ,CAAC,KAAK,CAAC,CACjE,KAAM,CAACmE,QAAQ,CAAEC,WAAW,CAAC,CAAGpE,QAAQ,CAAC,IAAI,CAAC,CAE9CC,SAAS,CAAC,IAAM,CACdoE,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClCvB,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAwB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACV1B,eAAe,CAAC,8CAA8C,CAAC,CAC/DE,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CACA2B,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAiB,CAAC,CACnF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAA1E,KAAK,CAAC2E,GAAG,CAAC,GAAGJ,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAiB,CAAE,CAClFG,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUX,KAAK,EAAG,CAC9C,CAAC,CAAC,CACF,GAAIQ,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAE,CACzBnC,aAAa,CAAC8B,QAAQ,CAACI,IAAI,CAACA,IAAI,EAAI,EAAE,CAAC,CACvCtC,eAAe,CAAC,EAAE,CAAC,CACrB,CAAC,IAAM,CACLA,eAAe,CAACkC,QAAQ,CAACI,IAAI,CAACE,OAAO,EAAI,sBAAsB,CAAC,CAClE,CACF,CAAE,MAAOC,KAAK,CAAE,KAAAC,eAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACdhB,OAAO,CAACY,KAAK,CAAC,uBAAuB,CAAE,CACrCD,OAAO,CAAEC,KAAK,CAACD,OAAO,CACtBM,MAAM,EAAAJ,eAAA,CAAED,KAAK,CAACP,QAAQ,UAAAQ,eAAA,iBAAdA,eAAA,CAAgBI,MAAM,CAC9BR,IAAI,EAAAK,gBAAA,CAAEF,KAAK,CAACP,QAAQ,UAAAS,gBAAA,iBAAdA,gBAAA,CAAgBL,IACxB,CAAC,CAAC,CACFtC,eAAe,CAAC,EAAA4C,gBAAA,CAAAH,KAAK,CAACP,QAAQ,UAAAU,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBN,IAAI,UAAAO,qBAAA,iBAApBA,qBAAA,CAAsBL,OAAO,GAAI,yBAAyB,CAAC,CAC7E,CACAtC,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,KAAM,CAAA6C,iBAAiB,CAAG,KAAO,CAAAxC,YAAY,EAAK,CAChD,GAAI,CAACA,YAAY,EAAIA,YAAY,CAACyC,MAAM,CAAG,CAAC,CAAE,CAC5C1C,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEG,YAAY,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAG,CAAC,CAAC,CAC9DT,eAAe,CAAC,EAAE,CAAC,CACnB,OACF,CACAE,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAwB,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACV1B,eAAe,CAAC,8CAA8C,CAAC,CAC/DE,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CACA2B,OAAO,CAACC,GAAG,CAAC,0BAA0B,CAAEvB,YAAY,CAAC,CACrD,KAAM,CAAA2B,QAAQ,CAAG,KAAM,CAAA1E,KAAK,CAAC2E,GAAG,CAAC,GAAGJ,OAAO,CAACC,GAAG,CAACC,iBAAiB,4BAA4B1B,YAAY,EAAE,CAAE,CAC3G6B,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUX,KAAK,EAAG,CAC9C,CAAC,CAAC,CACF,GAAIQ,QAAQ,CAACI,IAAI,CAACC,OAAO,CAAE,CACzB,KAAM,CAAEU,IAAI,CAAExC,UAAW,CAAC,CAAGyB,QAAQ,CAACI,IAAI,CAACA,IAAI,CAC/ChC,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEG,YAAY,CAAEyC,IAAI,CAAExC,UAAW,CAAC,CAAC,CAC5DT,eAAe,CAAC,EAAE,CAAC,CACrB,CAAC,IAAM,CACLM,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAEG,YAAY,CAAE,EAAE,CAAEC,UAAU,CAAE,EAAG,CAAC,CAAC,CAC9DT,eAAe,CAACkC,QAAQ,CAACI,IAAI,CAACE,OAAO,EAAI,kBAAkB,CAAC,CAC9D,CACF,CAAE,MAAOC,KAAK,CAAE,KAAAS,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACdxB,OAAO,CAACY,KAAK,CAAC,2BAA2B,CAAE,CACzCD,OAAO,CAAEC,KAAK,CAACD,OAAO,CACtBM,MAAM,EAAAI,gBAAA,CAAET,KAAK,CAACP,QAAQ,UAAAgB,gBAAA,iBAAdA,gBAAA,CAAgBJ,MAAM,CAC9BR,IAAI,EAAAa,gBAAA,CAAEV,KAAK,CAACP,QAAQ,UAAAiB,gBAAA,iBAAdA,gBAAA,CAAgBb,IACxB,CAAC,CAAC,CACFtC,eAAe,CAAC,EAAAoD,gBAAA,CAAAX,KAAK,CAACP,QAAQ,UAAAkB,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgBd,IAAI,UAAAe,qBAAA,iBAApBA,qBAAA,CAAsBb,OAAO,GAAI,8BAA8B,CAAC,CAClF,CACAtC,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAED,KAAM,CAAAoD,sBAAsB,CAAG,KAAAA,CAAA,GAAY,CACzC,KAAM,CAAAP,iBAAiB,CAAC1C,QAAQ,CAACE,YAAY,CAAC,CAChD,CAAC,CAED,KAAM,CAAAgD,iBAAiB,CAAIC,CAAC,EAAK,CAC/B,KAAM,CAAEP,IAAI,CAAEQ,KAAM,CAAC,CAAGD,CAAC,CAACE,MAAM,CAChCpD,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAE,CAAC4C,IAAI,EAAGQ,KAAM,CAAC,CAAC,CAC7C,CAAC,CAED,KAAM,CAAAE,gBAAgB,CAAIH,CAAC,EAAK,CAC9BlD,WAAW,CAAC,CAAE,GAAGD,QAAQ,CAAES,cAAc,CAAE0C,CAAC,CAACE,MAAM,CAACE,KAAK,CAAC,CAAC,CAAE,CAAC,CAAC,CACjE,CAAC,CAED,KAAM,CAAAC,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClB5D,UAAU,CAAC,IAAI,CAAC,CAChBF,eAAe,CAAC,EAAE,CAAC,CACnB,KAAM,CAAA+D,cAAc,CAAG,CAAC,cAAc,CAAE,cAAc,CAAE,gBAAgB,CAAE,MAAM,CAAE,aAAa,CAAE,SAAS,CAAC,CAC3G,KAAM,CAAAC,aAAa,CAAGD,cAAc,CAACE,MAAM,CAAEC,KAAK,EAAK,CAAC7D,QAAQ,CAAC6D,KAAK,CAAC,CAAC,CACxE,GAAIF,aAAa,CAAChB,MAAM,CAAG,CAAC,CAAE,CAC5BhD,eAAe,CAAC,4BAA4BgE,aAAa,CAACG,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,CACvEjE,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CACA,KAAM,CAAAoC,IAAI,CAAG,GAAI,CAAA8B,QAAQ,CAAC,CAAC,CAC3BC,MAAM,CAACC,IAAI,CAACjE,QAAQ,CAAC,CAACkE,OAAO,CAAEC,GAAG,EAAK,CACrC,GAAInE,QAAQ,CAACmE,GAAG,CAAC,GAAK,IAAI,CAAE,CAC1BlC,IAAI,CAACmC,MAAM,CAACD,GAAG,CAAEnE,QAAQ,CAACmE,GAAG,CAAC,CAAC,CACjC,CACF,CAAC,CAAC,CACF,GAAI,CACF,KAAM,CAAA9C,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACV1B,eAAe,CAAC,8CAA8C,CAAC,CAC/DE,UAAU,CAAC,KAAK,CAAC,CACjB,OACF,CACA2B,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEuC,MAAM,CAACK,WAAW,CAACpC,IAAI,CAAC,CAAC,CAC/D,GAAIvB,MAAM,CAAE,CACV,KAAM,CAAAvD,KAAK,CAACmH,GAAG,CAAC,GAAG5C,OAAO,CAACC,GAAG,CAACC,iBAAiB,mBAAmBlB,MAAM,EAAE,CAAEuB,IAAI,CAAE,CACjFF,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUX,KAAK,EAAG,CAC9C,CAAC,CAAC,CACF5B,iBAAiB,CAAC,yBAAyB,CAAC,CAC9C,CAAC,IAAM,CACL,KAAM,CAAAtC,KAAK,CAACoH,IAAI,CAAC,GAAG7C,OAAO,CAACC,GAAG,CAACC,iBAAiB,iBAAiB,CAAEK,IAAI,CAAE,CACxEF,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUX,KAAK,EAAG,CAC9C,CAAC,CAAC,CACF5B,iBAAiB,CAAC,yBAAyB,CAAC,CAC9C,CACAF,uBAAuB,CAAC,IAAI,CAAC,CAC7BiF,UAAU,CAAC,IAAM,CACfjF,uBAAuB,CAAC,KAAK,CAAC,CAC9BM,UAAU,CAAC,KAAK,CAAC,CACjBuB,eAAe,CAAC,CAAC,CACjBqD,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,IAAI,CAAC,CACV,CAAE,MAAOrC,KAAK,CAAE,KAAAsC,gBAAA,CAAAC,gBAAA,CAAAC,gBAAA,CAAAC,qBAAA,CACdrD,OAAO,CAACY,KAAK,CAAC,sBAAsB,CAAE,CACpCD,OAAO,CAAEC,KAAK,CAACD,OAAO,CACtBM,MAAM,EAAAiC,gBAAA,CAAEtC,KAAK,CAACP,QAAQ,UAAA6C,gBAAA,iBAAdA,gBAAA,CAAgBjC,MAAM,CAC9BR,IAAI,EAAA0C,gBAAA,CAAEvC,KAAK,CAACP,QAAQ,UAAA8C,gBAAA,iBAAdA,gBAAA,CAAgB1C,IACxB,CAAC,CAAC,CACFtC,eAAe,CAAC,EAAAiF,gBAAA,CAAAxC,KAAK,CAACP,QAAQ,UAAA+C,gBAAA,kBAAAC,qBAAA,CAAdD,gBAAA,CAAgB3C,IAAI,UAAA4C,qBAAA,iBAApBA,qBAAA,CAAsB1C,OAAO,GAAI,qBAAqB,CAAC,CACvEtC,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAiF,UAAU,CAAIC,SAAS,EAAK,CAChC9E,WAAW,CAAC,CACVC,YAAY,CAAE6E,SAAS,CAAC7E,YAAY,CACpCC,YAAY,CAAE4E,SAAS,CAAC5E,YAAY,CACpCC,UAAU,CAAE2E,SAAS,CAAC3E,UAAU,EAAI,EAAE,CACtCC,cAAc,CAAE0E,SAAS,CAAC1E,cAAc,CACxCC,IAAI,CAAEyE,SAAS,CAACzE,IAAI,CAAC0E,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAClCzE,WAAW,CAAEwE,SAAS,CAACxE,WAAW,CAClCC,OAAO,CAAEuE,SAAS,CAACvE,OAAO,CAC1BC,cAAc,CAAE,IAClB,CAAC,CAAC,CACFE,SAAS,CAACoE,SAAS,CAACE,GAAG,CAAC,CACxBtF,eAAe,CAAC,EAAE,CAAC,CACrB,CAAC,CAED,KAAM,CAAAuF,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/BrF,UAAU,CAAC,IAAI,CAAC,CAChBF,eAAe,CAAC,EAAE,CAAC,CACnB,GAAI,CACF,KAAM,CAAA0B,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAI,CAACF,KAAK,CAAE,CACV1B,eAAe,CAAC,8CAA8C,CAAC,CAC/DE,UAAU,CAAC,KAAK,CAAC,CACjBoB,oBAAoB,CAAC,KAAK,CAAC,CAC3B,OACF,CACA,KAAM,CAAA9D,KAAK,CAACgI,MAAM,CAAC,GAAGzD,OAAO,CAACC,GAAG,CAACC,iBAAiB,mBAAmBV,QAAQ,EAAE,CAAE,CAChFa,OAAO,CAAE,CAAEC,aAAa,CAAE,UAAUX,KAAK,EAAG,CAC9C,CAAC,CAAC,CACF5B,iBAAiB,CAAC,uBAAuB,CAAC,CAC1CF,uBAAuB,CAAC,IAAI,CAAC,CAC7BiF,UAAU,CAAC,IAAM,CACfjF,uBAAuB,CAAC,KAAK,CAAC,CAC9BM,UAAU,CAAC,KAAK,CAAC,CACjBuB,eAAe,CAAC,CAAC,CACjBH,oBAAoB,CAAC,KAAK,CAAC,CAC3BE,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAAE,IAAI,CAAC,CACV,CAAE,MAAOiB,KAAK,CAAE,KAAAgD,gBAAA,CAAAC,gBAAA,CAAAC,iBAAA,CAAAC,qBAAA,CACd/D,OAAO,CAACY,KAAK,CAAC,sBAAsB,CAAE,CACpCD,OAAO,CAAEC,KAAK,CAACD,OAAO,CACtBM,MAAM,EAAA2C,gBAAA,CAAEhD,KAAK,CAACP,QAAQ,UAAAuD,gBAAA,iBAAdA,gBAAA,CAAgB3C,MAAM,CAC9BR,IAAI,EAAAoD,gBAAA,CAAEjD,KAAK,CAACP,QAAQ,UAAAwD,gBAAA,iBAAdA,gBAAA,CAAgBpD,IACxB,CAAC,CAAC,CACFtC,eAAe,CAAC,EAAA2F,iBAAA,CAAAlD,KAAK,CAACP,QAAQ,UAAAyD,iBAAA,kBAAAC,qBAAA,CAAdD,iBAAA,CAAgBrD,IAAI,UAAAsD,qBAAA,iBAApBA,qBAAA,CAAsBpD,OAAO,GAAI,qBAAqB,CAAC,CACvEtC,UAAU,CAAC,KAAK,CAAC,CACjBoB,oBAAoB,CAAC,KAAK,CAAC,CAC3BE,WAAW,CAAC,IAAI,CAAC,CACnB,CACF,CAAC,CAED,KAAM,CAAAqE,uBAAuB,CAAIC,EAAE,EAAK,CACtCtE,WAAW,CAACsE,EAAE,CAAC,CACfxE,oBAAoB,CAAC,IAAI,CAAC,CAC5B,CAAC,CAED,KAAM,CAAAyE,kBAAkB,CAAGA,CAAA,GAAM,CAC/BzE,oBAAoB,CAAC,KAAK,CAAC,CAC3BE,WAAW,CAAC,IAAI,CAAC,CACnB,CAAC,CAED,KAAM,CAAAsD,SAAS,CAAGA,CAAA,GAAM,CACtBxE,WAAW,CAAC,CACVC,YAAY,CAAE,EAAE,CAChBC,YAAY,CAAE,EAAE,CAChBC,UAAU,CAAE,EAAE,CACdC,cAAc,CAAE,EAAE,CAClBC,IAAI,CAAE,EAAE,CACRC,WAAW,CAAE,EAAE,CACfC,OAAO,CAAE,EAAE,CACXC,cAAc,CAAE,IAClB,CAAC,CAAC,CACFE,SAAS,CAAC,IAAI,CAAC,CACfhB,eAAe,CAAC,EAAE,CAAC,CACrB,CAAC,CAED,KAAM,CAAAgG,gBAAgB,CAAIC,QAAQ,EAAK,CACrC,KAAM,CAAAC,YAAY,CAAG,GAAGnE,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAGgE,QAAQ,EAAE,CAClEpE,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAEoE,YAAY,CAAC,CAC7ChF,gBAAgB,CAAC+E,QAAQ,CAAC,CAC1B7E,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,KAAM,CAAA+E,gBAAgB,CAAGA,CAAA,GAAM,CAC7BjF,gBAAgB,CAAC,IAAI,CAAC,CACtBE,aAAa,CAAC,IAAI,CAAC,CACrB,CAAC,CAED,KAAM,CAAAgF,gBAAgB,CAAI5C,CAAC,EAAK,CAC9B3B,OAAO,CAACY,KAAK,CAAC,mBAAmB,CAAEe,CAAC,CAACE,MAAM,CAAC2C,GAAG,CAAE,CAC/CvD,MAAM,CAAEU,CAAC,CAACE,MAAM,CAACZ,MAAM,CACvBwD,UAAU,CAAE9C,CAAC,CAACE,MAAM,CAAC4C,UACvB,CAAC,CAAC,CACFlF,aAAa,CAAC,qBAAqBoC,CAAC,CAACE,MAAM,CAAC2C,GAAG,+DAA+D,CAAC,CACjH,CAAC,CAED,KAAM,CAAAE,YAAY,CAAG,CACnBC,MAAM,CAAE,CAAEtI,OAAO,CAAE,CAAC,CAAEuI,CAAC,CAAE,EAAE,CAAExI,KAAK,CAAE,IAAK,CAAC,CAC1CyI,OAAO,CAAE,CACPxI,OAAO,CAAE,CAAC,CACVuI,CAAC,CAAE,CAAC,CACJxI,KAAK,CAAE,CAAC,CACRG,UAAU,CAAE,CACVC,QAAQ,CAAE,GAAG,CACbC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAC,CAChCC,IAAI,CAAE,QAAQ,CACdC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,EAAE,CACXkI,eAAe,CAAE,GACnB,CACF,CAAC,CACDC,KAAK,CAAE,CAAE3I,KAAK,CAAE,IAAI,CAAE4I,SAAS,CAAE,qCAAqC,CAAEzI,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAAC,CAC1HwI,GAAG,CAAE,CAAE7I,KAAK,CAAE,IAAI,CAAEG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CACvE,CAAC,CAED,KAAM,CAAAyI,iBAAiB,CAAG,CACxBP,MAAM,CAAE,CAAEtI,OAAO,CAAE,CAAC,CAAE8I,CAAC,CAAE,EAAG,CAAC,CAC7BN,OAAO,CAAE,CACPxI,OAAO,CAAE,CAAC,CACV8I,CAAC,CAAE,CAAC,CACJ5I,UAAU,CAAE,CACVC,QAAQ,CAAE,GAAG,CACbC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CACjC,CACF,CACF,CAAC,CAED,KAAM,CAAA2I,aAAa,CAAG,CACpBT,MAAM,CAAE,CAAEtI,OAAO,CAAE,CAAC,CAAED,KAAK,CAAE,GAAI,CAAC,CAClCyI,OAAO,CAAE,CAAExI,OAAO,CAAE,CAAC,CAAED,KAAK,CAAE,CAAC,CAAEG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAE,CAAE,CAAC,CAClGsI,KAAK,CAAE,CAAE3I,KAAK,CAAE,IAAI,CAAE4I,SAAS,CAAE,qCAAqC,CAAEzI,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CAC3H,CAAC,CAED,mBACEV,KAAA,QAAKG,SAAS,CAAC,gJAAgJ,CAAAY,QAAA,eAC7JjB,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTC,SAAS,CAAC,sFAAsF,CAChGI,OAAO,CAAE,CACP+I,UAAU,CAAE,CACV,uGAAuG,CACvG,uGAAuG,CACvG,uGAAuG,CAE3G,CAAE,CACF9I,UAAU,CAAE,CAAEC,QAAQ,CAAE,EAAE,CAAEkB,MAAM,CAAEC,QAAQ,CAAE2H,UAAU,CAAE,SAAS,CAAE7I,IAAI,CAAE,WAAY,CAAE,CAC1F,CAAC,cACFV,KAAA,QAAKG,SAAS,CAAC,gFAAgF,CAAAY,QAAA,eAC7FjB,IAAA,CAACJ,MAAM,CAAC8J,EAAE,EACRpJ,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAC,CAAEuI,CAAC,CAAE,CAAC,EAAG,CAAE,CAChCtI,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAEuI,CAAC,CAAE,CAAE,CAAE,CAC9BrI,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAC,CAAEC,IAAI,CAAE,QAAQ,CAAEC,SAAS,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAG,CAAE,CAC5GV,SAAS,CAAC,sHAAsH,CAAAY,QAAA,CACjI,iFAED,CAAW,CAAC,CACXsB,OAAO,eACNvC,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBQ,IAAI,CAAE,CAAER,OAAO,CAAE,CAAE,CAAE,CACrBE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CACjDP,SAAS,CAAC,0BAA0B,CAAAY,QAAA,cAEpCjB,IAAA,CAAC4B,oBAAoB,GAAE,CAAC,CACd,CACb,CACAO,cAAc,EAAI,CAACI,OAAO,eACzBvC,IAAA,CAACJ,MAAM,CAAC+J,CAAC,EACPrJ,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAC,CAAEuI,CAAC,CAAE,CAAC,EAAG,CAAE,CAChCtI,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAEuI,CAAC,CAAE,CAAE,CAAE,CAC9B/H,IAAI,CAAE,CAAER,OAAO,CAAE,CAAE,CAAE,CACrBE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CACjDP,SAAS,CAAC,sIAAsI,CAAAY,QAAA,CAE/IkB,cAAc,CACP,CACX,CACAE,YAAY,EAAI,CAACE,OAAO,eACvBvC,IAAA,CAACJ,MAAM,CAAC+J,CAAC,EACPrJ,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAC,CAAEuI,CAAC,CAAE,CAAC,EAAG,CAAE,CAChCtI,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAEuI,CAAC,CAAE,CAAE,CAAE,CAC9B/H,IAAI,CAAE,CAAER,OAAO,CAAE,CAAE,CAAE,CACrBE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CACjDP,SAAS,CAAC,mIAAmI,CAAAY,QAAA,CAE5IoB,YAAY,CACL,CACX,cAEDnC,KAAA,CAACN,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAC,QAAQ,CAChBG,OAAO,CAAC,SAAS,CACjBmJ,QAAQ,CAAEf,YAAa,CACvBxI,SAAS,CAAC,gGAAgG,CAAAY,QAAA,eAE1Gf,KAAA,QAAKG,SAAS,CAAC,kDAAkD,CAAAY,QAAA,eAC/DjB,IAAA,CAAC+B,mBAAmB,GAAE,CAAC,cACvB/B,IAAA,OAAIK,SAAS,CAAC,6CAA6C,CAAAY,QAAA,CAAC,gJAA2B,CAAI,CAAC,EACzF,CAAC,cACNf,KAAA,SAAM2J,QAAQ,CAAE1D,YAAa,CAAC9F,SAAS,CAAC,sBAAsB,CAAAY,QAAA,eAC5DjB,IAAA,UACEa,IAAI,CAAC,MAAM,CACX0E,IAAI,CAAC,cAAc,CACnBuE,WAAW,CAAC,yDAAY,CACxB/D,KAAK,CAAEpD,QAAQ,CAACE,YAAa,CAC7BkH,QAAQ,CAAElE,iBAAkB,CAC5BmE,MAAM,CAAEpE,sBAAuB,CAC/BvF,SAAS,CAAC,uMAAuM,CACjN4J,QAAQ,MACT,CAAC,cACFjK,IAAA,UACEa,IAAI,CAAC,MAAM,CACX0E,IAAI,CAAC,cAAc,CACnBuE,WAAW,CAAC,yDAAY,CACxB/D,KAAK,CAAEpD,QAAQ,CAACG,YAAa,CAC7BiH,QAAQ,CAAElE,iBAAkB,CAC5BxF,SAAS,CAAC,0HAA0H,CACpI6J,QAAQ,MACT,CAAC,cACFlK,IAAA,UACEa,IAAI,CAAC,MAAM,CACX0E,IAAI,CAAC,YAAY,CACjBuE,WAAW,CAAC,gCAAO,CACnB/D,KAAK,CAAEpD,QAAQ,CAACI,UAAW,CAC3BgH,QAAQ,CAAElE,iBAAkB,CAC5BxF,SAAS,CAAC,0HAA0H,CACpI6J,QAAQ,MACT,CAAC,cACFlK,IAAA,UACEa,IAAI,CAAC,QAAQ,CACb0E,IAAI,CAAC,gBAAgB,CACrBuE,WAAW,CAAC,qEAAc,CAC1B/D,KAAK,CAAEpD,QAAQ,CAACK,cAAe,CAC/B+G,QAAQ,CAAElE,iBAAkB,CAC5BxF,SAAS,CAAC,uMAAuM,CACjN4J,QAAQ,MACT,CAAC,cACFjK,IAAA,UACEa,IAAI,CAAC,MAAM,CACX0E,IAAI,CAAC,MAAM,CACXQ,KAAK,CAAEpD,QAAQ,CAACM,IAAK,CACrB8G,QAAQ,CAAElE,iBAAkB,CAC5BxF,SAAS,CAAC,uMAAuM,CACjN4J,QAAQ,MACT,CAAC,cACFjK,IAAA,UACEa,IAAI,CAAC,MAAM,CACX0E,IAAI,CAAC,aAAa,CAClBuE,WAAW,CAAC,+DAAa,CACzB/D,KAAK,CAAEpD,QAAQ,CAACO,WAAY,CAC5B6G,QAAQ,CAAElE,iBAAkB,CAC5BxF,SAAS,CAAC,uMAAuM,CACjN4J,QAAQ,MACT,CAAC,cACFjK,IAAA,UACEa,IAAI,CAAC,MAAM,CACX0E,IAAI,CAAC,SAAS,CACduE,WAAW,CAAC,sCAAQ,CACpB/D,KAAK,CAAEpD,QAAQ,CAACQ,OAAQ,CACxB4G,QAAQ,CAAElE,iBAAkB,CAC5BxF,SAAS,CAAC,uMAAuM,CACjN4J,QAAQ,MACT,CAAC,cACFjK,IAAA,UACEa,IAAI,CAAC,MAAM,CACX0E,IAAI,CAAC,gBAAgB,CACrBwE,QAAQ,CAAE9D,gBAAiB,CAC3BkE,MAAM,CAAC,SAAS,CAChB9J,SAAS,CAAC,uMAAuM,CAClN,CAAC,cACFL,IAAA,WACEa,IAAI,CAAC,QAAQ,CACbR,SAAS,CAAC,oIAAoI,CAAAY,QAAA,CAE7IoC,MAAM,CAAG,aAAa,CAAG,cAAc,CAClC,CAAC,CACRA,MAAM,eACLrD,IAAA,WACEa,IAAI,CAAC,QAAQ,CACbuJ,OAAO,CAAEhD,SAAU,CACnB/G,SAAS,CAAC,qIAAqI,CAAAY,QAAA,CAChJ,2EAED,CAAQ,CACT,EACG,CAAC,EACG,CAAC,cAEbjB,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAC,QAAQ,CAChBG,OAAO,CAAC,SAAS,CACjBmJ,QAAQ,CAAEf,YAAa,CACvBxI,SAAS,CAAC,+DAA+D,CAAAY,QAAA,CAExEwB,UAAU,CAAC4H,GAAG,CAAE3C,SAAS,eACxBxH,KAAA,CAACN,MAAM,CAACQ,GAAG,EAETwJ,QAAQ,CAAEP,iBAAkB,CAC5BiB,UAAU,CAAC,OAAO,CAClBC,QAAQ,CAAC,KAAK,CACdlK,SAAS,CAAC,uHAAuH,CAAAY,QAAA,eAEjIf,KAAA,QAAKG,SAAS,CAAC,6CAA6C,CAAAY,QAAA,eAC1DjB,IAAA,CAAC+B,mBAAmB,GAAE,CAAC,cACvB7B,KAAA,QAAKG,SAAS,CAAC,mBAAmB,CAAAY,QAAA,eAChCf,KAAA,OAAIG,SAAS,CAAC,6CAA6C,CAAAY,QAAA,EAAC,sBAAK,CAACyG,SAAS,CAAC7E,YAAY,EAAK,CAAC,cAC9F3C,KAAA,MAAGG,SAAS,CAAC,oCAAoC,CAAAY,QAAA,EAAC,kCAAO,CAACyG,SAAS,CAAC5E,YAAY,EAAI,CAAC,cACrF5C,KAAA,MAAGG,SAAS,CAAC,oCAAoC,CAAAY,QAAA,EAAC,kCAAO,CAACyG,SAAS,CAAC3E,UAAU,EAAI,UAAU,EAAI,CAAC,cACjG7C,KAAA,MAAGG,SAAS,CAAC,oCAAoC,CAAAY,QAAA,EAAC,uEAAc,CAACyG,SAAS,CAAC1E,cAAc,EAAI,CAAC,cAC9F9C,KAAA,MAAGG,SAAS,CAAC,oCAAoC,CAAAY,QAAA,EAAC,8CAAS,CAAC,GAAI,CAAAuJ,IAAI,CAAC9C,SAAS,CAACzE,IAAI,CAAC,CAACwH,kBAAkB,CAAC,OAAO,CAAC,EAAI,CAAC,cACrHvK,KAAA,MAAGG,SAAS,CAAC,oCAAoC,CAAAY,QAAA,EAAC,iEAAa,CAACyG,SAAS,CAACxE,WAAW,EAAI,CAAC,cAC1FhD,KAAA,MAAGG,SAAS,CAAC,oCAAoC,CAAAY,QAAA,EAAC,wCAAQ,CAACyG,SAAS,CAACvE,OAAO,EAAI,CAAC,CAChFuE,SAAS,CAACtE,cAAc,eACvBpD,IAAA,CAACJ,MAAM,CAAC8K,GAAG,EACT/B,GAAG,CAAE,GAAGtE,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAGmD,SAAS,CAACtE,cAAc,EAAG,CACnEuH,GAAG,CAAC,2EAAe,CACnBf,QAAQ,CAAEL,aAAc,CACxBjJ,OAAO,CAAC,QAAQ,CAChBG,OAAO,CAAC,SAAS,CACjB6J,UAAU,CAAC,OAAO,CAClBjK,SAAS,CAAC,iEAAiE,CAC3E+J,OAAO,CAAEA,CAAA,GAAM9B,gBAAgB,CAACZ,SAAS,CAACtE,cAAc,CAAE,CAC1DwH,OAAO,CAAG9E,CAAC,EAAK,CACd3B,OAAO,CAACY,KAAK,CAAC,mBAAmB,CAAEe,CAAC,CAACE,MAAM,CAAC2C,GAAG,CAAC,CAChD7C,CAAC,CAACE,MAAM,CAAC2C,GAAG,CAAG,wBAAwB,CAAE;AAC3C,CAAE,CACH,CACF,EACE,CAAC,EACH,CAAC,cACNzI,KAAA,QAAKG,SAAS,CAAC,iDAAiD,CAAAY,QAAA,eAC9DjB,IAAA,WACEoK,OAAO,CAAEA,CAAA,GAAM3C,UAAU,CAACC,SAAS,CAAE,CACrCrH,SAAS,CAAC,+GAA+G,CAAAY,QAAA,CAC1H,gCAED,CAAQ,CAAC,cACTjB,IAAA,WACEoK,OAAO,CAAEA,CAAA,GAAMjC,uBAAuB,CAACT,SAAS,CAACE,GAAG,CAAE,CACtDvH,SAAS,CAAC,6GAA6G,CAAAY,QAAA,CACxH,oBAED,CAAQ,CAAC,EACN,CAAC,GA/CDyG,SAAS,CAACE,GAgDL,CACb,CAAC,CACQ,CAAC,cAEb5H,IAAA,CAACH,eAAe,EAAAoB,QAAA,CACbsC,aAAa,eACZvD,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBQ,IAAI,CAAE,CAAER,OAAO,CAAE,CAAE,CAAE,CACrBE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CACjDP,SAAS,CAAC,qEAAqE,CAC/E+J,OAAO,CAAE3B,gBAAiB,CAAAxH,QAAA,cAE1Bf,KAAA,CAACN,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAE,CAAEC,KAAK,CAAE,GAAG,CAAEC,OAAO,CAAE,CAAE,CAAE,CACpCC,OAAO,CAAE,CAAEF,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAE,CAClCQ,IAAI,CAAE,CAAET,KAAK,CAAE,GAAG,CAAEC,OAAO,CAAE,CAAE,CAAE,CACjCE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAE,CAAE,CAChEP,SAAS,CAAC,iKAAiK,CAC3K+J,OAAO,CAAGtE,CAAC,EAAKA,CAAC,CAAC+E,eAAe,CAAC,CAAE,CAAA5J,QAAA,EAEnCwC,UAAU,cACTvD,KAAA,QAAKG,SAAS,CAAC,mEAAmE,CAAAY,QAAA,eAChFjB,IAAA,QACE2I,GAAG,CAAC,wBAAwB,CAC5BgC,GAAG,CAAC,2EAAe,CACnBtK,SAAS,CAAC,6DAA6D,CACxE,CAAC,cACFL,IAAA,MAAGK,SAAS,CAAC,2BAA2B,CAAAY,QAAA,CAAEwC,UAAU,CAAI,CAAC,EACtD,CAAC,cAENzD,IAAA,CAACJ,MAAM,CAAC8K,GAAG,EACT/B,GAAG,CAAE,GAAGtE,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAGhB,aAAa,EAAG,CACxDoH,GAAG,CAAC,sHAAuB,CAC3BrK,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAC,CAAED,KAAK,CAAE,GAAI,CAAE,CACpCE,OAAO,CAAE,CAAED,OAAO,CAAE,CAAC,CAAED,KAAK,CAAE,CAAE,CAAE,CAClCG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAE,CAAE,CAChEP,SAAS,CAAC,6DAA6D,CACvEuK,OAAO,CAAElC,gBAAiB,CAC1BoC,MAAM,CAAEA,CAAA,GAAM3G,OAAO,CAACC,GAAG,CAAC,gCAAgC,CAAE,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,GAAGhB,aAAa,EAAE,CAAE,CACjH,CACF,cACDvD,IAAA,WACEoK,OAAO,CAAE3B,gBAAiB,CAC1BpI,SAAS,CAAC,+LAA+L,CAAAY,QAAA,CAC1M,MAED,CAAQ,CAAC,EACC,CAAC,CACH,CACb,CACc,CAAC,cAElBjB,IAAA,CAACH,eAAe,EAAAoB,QAAA,CACb0C,iBAAiB,eAChB3D,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAE,CAAE,CACxBC,OAAO,CAAE,CAAED,OAAO,CAAE,CAAE,CAAE,CACxBQ,IAAI,CAAE,CAAER,OAAO,CAAE,CAAE,CAAE,CACrBE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,WAAY,CAAE,CACjDP,SAAS,CAAC,qEAAqE,CAAAY,QAAA,cAE/Ef,KAAA,CAACN,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAE,CAAEC,KAAK,CAAE,GAAG,CAAEC,OAAO,CAAE,CAAE,CAAE,CACpCC,OAAO,CAAE,CAAEF,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAE,CAClCQ,IAAI,CAAE,CAAET,KAAK,CAAE,GAAG,CAAEC,OAAO,CAAE,CAAE,CAAE,CACjCE,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAE,CAAE,CAChEP,SAAS,CAAC,+GAA+G,CAAAY,QAAA,eAEzHjB,IAAA,OAAIK,SAAS,CAAC,sCAAsC,CAAAY,QAAA,CAAC,+DAAW,CAAI,CAAC,cACrEjB,IAAA,MAAGK,SAAS,CAAC,oBAAoB,CAAAY,QAAA,CAAC,sWAAuE,CAAG,CAAC,cAC7Gf,KAAA,QAAKG,SAAS,CAAC,4CAA4C,CAAAY,QAAA,eACzDjB,IAAA,WACEoK,OAAO,CAAEvC,YAAa,CACtBxH,SAAS,CAAC,6GAA6G,CAAAY,QAAA,CACxH,mDAED,CAAQ,CAAC,cACTjB,IAAA,WACEoK,OAAO,CAAE/B,kBAAmB,CAC5BhI,SAAS,CAAC,+GAA+G,CAAAY,QAAA,CAC1H,gCAED,CAAQ,CAAC,EACN,CAAC,EACI,CAAC,CACH,CACb,CACc,CAAC,cAElBjB,IAAA,CAACH,eAAe,EAAAoB,QAAA,CACbgB,oBAAoB,eACnBjC,IAAA,CAACJ,MAAM,CAACQ,GAAG,EACTE,OAAO,CAAE,CAAEE,OAAO,CAAE,CAAC,CAAED,KAAK,CAAE,GAAI,CAAE,CACpCE,OAAO,CAAE,CAAEF,KAAK,CAAE,CAAC,CAAEC,OAAO,CAAE,CAAE,CAAE,CAClCQ,IAAI,CAAE,CAAER,OAAO,CAAE,CAAC,CAAED,KAAK,CAAE,GAAI,CAAE,CACjCG,UAAU,CAAE,CAAEC,QAAQ,CAAE,GAAG,CAAEC,IAAI,CAAE,CAAC,IAAI,CAAE,CAAC,IAAI,CAAE,KAAK,CAAE,IAAI,CAAC,CAAEC,IAAI,CAAE,QAAQ,CAAEC,SAAS,CAAE,EAAE,CAAEC,OAAO,CAAE,EAAG,CAAE,CAC5GV,SAAS,CAAC,iEAAiE,CAAAY,QAAA,cAE3EjB,IAAA,QAAKK,SAAS,CAAC,qFAAqF,CAAAY,QAAA,cAClGjB,IAAA,CAACG,eAAe,GAAE,CAAC,CAChB,CAAC,CACI,CACb,CACc,CAAC,EACf,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAA6B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
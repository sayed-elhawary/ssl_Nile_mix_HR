{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback,memo}from'react';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{format}from'date-fns';import*as XLSX from'https://cdn.jsdelivr.net/npm/xlsx@0.18.5/+esm';import{saveAs}from'https://cdn.jsdelivr.net/npm/file-saver@2.0.5/+esm';import{Document,Packer,Paragraph,Table,TableCell,TableRow,WidthType}from'https://cdn.jsdelivr.net/npm/docx@7.8.2/+esm';import{Pencil,Download}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomCheckIcon=()=>/*#__PURE__*/_jsx(motion.div,{className:\"relative h-16 w-16\",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{duration:0.7,ease:[0.6,-0.05,0.01,0.99],type:'spring',stiffness:120,damping:15}},exit:{scale:0,opacity:0,transition:{duration:0.4,ease:'easeInOut'}},children:/*#__PURE__*/_jsx(motion.svg,{className:\"h-full w-full text-purple-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:3,initial:{pathLength:0,rotate:-45},animate:{pathLength:1,rotate:0,transition:{duration:0.9,ease:[0.6,-0.05,0.01,0.99]}},children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M5 13l4 4L19 7\"})})});const CustomLoadingSpinner=()=>/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center justify-center\",initial:{opacity:0,scale:0.8},animate:{opacity:1,scale:1,transition:{duration:0.4,ease:'easeInOut'}},exit:{opacity:0,scale:0.8,transition:{duration:0.4,ease:'easeInOut'}},children:[/*#__PURE__*/_jsx(motion.div,{className:\"h-10 w-10 border-4 border-purple-600 border-t-transparent rounded-full\",animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:'linear'}}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-3 text-purple-600 text-sm font-medium\",children:\"\\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})]});const ReportRow=/*#__PURE__*/memo(({report,handleEdit})=>{const formatNumber=num=>Number.isFinite(num)?num.toFixed(2):'0.00';return/*#__PURE__*/_jsxs(motion.tr,{variants:{hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:0.4,ease:[0.6,-0.05,0.01,0.99]}}},className:\"hover:bg-purple-50 transition-colors duration-200\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:report.employeeCode}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:report.name}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(report.basicBonus)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:report.shiftType}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:[report.bonusPercentage,\"%\"]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:report.totalAttendanceDays}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:report.totalDeductedDays}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(report.totalDeductions)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(report.bindingValue)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(report.productionValue)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-bold\",children:formatNumber(report.netBonus)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:/*#__PURE__*/_jsxs(motion.button,{variants:{hover:{scale:1.05,boxShadow:'0 4px 12px rgba(124, 58, 237, 0.2)',transition:{duration:0.3,ease:'easeInOut'}},tap:{scale:0.95,transition:{duration:0.2}}},whileHover:\"hover\",whileTap:\"tap\",onClick:()=>handleEdit(report),className:\"bg-purple-600 text-white px-4 py-2 rounded-xl hover:bg-purple-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\",children:[/*#__PURE__*/_jsx(Pencil,{className:\"inline-block w-4 h-4 ml-2\"}),\" \\u062A\\u0639\\u062F\\u064A\\u0644\"]})})]});});const MonthlyBonusReport=()=>{const[startDate,setStartDate]=useState(format(new Date(),'yyyy-MM-dd'));const[endDate,setEndDate]=useState(format(new Date(),'yyyy-MM-dd'));const[employeeCode,setEmployeeCode]=useState('');const[shiftId,setShiftId]=useState('');const[shifts,setShifts]=useState([]);const[reports,setReports]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[successMessage,setSuccessMessage]=useState('');const[showSuccessAnimation,setShowSuccessAnimation]=useState(false);const[showModal,setShowModal]=useState(false);const[selectedEmployee,setSelectedEmployee]=useState(null);const[bindingValue,setBindingValue]=useState(0);const[productionValue,setProductionValue]=useState(0);const[monthYear,setMonthYear]=useState('');const tableRef=useRef(null);useEffect(()=>{const fetchShifts=async()=>{setLoading(true);setError('');try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/user/shifts`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setShifts(response.data);if(response.data.length===0){setError('لا توجد شيفتات متاحة في النظام');}}catch(error){console.error('خطأ في جلب الشيفتات:',error);if(error.response){if(error.response.status===401){setError('التوكن غير صالح أو انتهت صلاحيته، يرجى تسجيل الدخول مرة أخرى');}else if(error.response.status===404){setError('نقطة نهاية الشيفتات غير متاحة');}else{setError(error.response.data.message||'حدث خطأ أثناء جلب الشيفتات');}}else{setError('فشل الاتصال بالخادم، تحقق من الاتصال بالإنترنت أو إعدادات الخادم');}}finally{setLoading(false);}};fetchShifts();},[]);const fetchReports=useCallback(async()=>{setLoading(true);setError('');try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/user/monthly-bonus-report`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`},params:{startDate,endDate,employeeCode,shiftId}});const processedData=response.data.map(row=>({...row,basicBonus:Number(row.basicBonus||0),totalDeductions:Number(row.totalDeductions||0),bindingValue:Number(row.bindingValue||0),productionValue:Number(row.productionValue||0),netBonus:Number(row.netBonus||0)}));setReports(processedData);setSuccessMessage('تم جلب التقرير بنجاح');setShowSuccessAnimation(true);setTimeout(()=>setShowSuccessAnimation(false),1500);if(response.data.length===0){setError('لا توجد تقارير متاحة للمعايير المحددة');}}catch(error){console.error('خطأ في جلب التقرير:',error);if(error.response){if(error.response.status===401){setError('التوكن غير صالح أو انتهت صلاحيته، يرجى تسجيل الدخول مرة أخرى');}else if(error.response.status===404){setError('لا يوجد بيانات متاحة لهذا التقرير');}else{setError(error.response.data.message||'حدث خطأ أثناء جلب التقرير');}}else{setError('فشل الاتصال بالخادم، تحقق من الاتصال بالإنترنت');}}finally{setLoading(false);}},[startDate,endDate,employeeCode,shiftId]);const handleSearch=useCallback(()=>{if(!startDate||!endDate){setError('يرجى إدخال تاريخ البداية والنهاية');return;}if(new Date(startDate)>new Date(endDate)){setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');return;}fetchReports();},[startDate,endDate,fetchReports]);const handleShowAll=useCallback(()=>{setEmployeeCode('');setShiftId('');fetchReports();},[fetchReports]);const handleEdit=useCallback(report=>{setSelectedEmployee(report);setBindingValue(report.bindingValue||0);setProductionValue(report.productionValue||0);setMonthYear(startDate.slice(0,7));setShowModal(true);},[startDate]);const handleSaveEdit=useCallback(async()=>{if(!window.confirm('هل أنت متأكد من حفظ التغييرات؟'))return;setLoading(true);try{if(!selectedEmployee||!selectedEmployee.employeeCode){throw new Error('كود الموظف غير موجود');}if(bindingValue===undefined||productionValue===undefined){throw new Error('يرجى ملء جميع الحقول بقيم صالحة');}const response=await axios.put(`${process.env.REACT_APP_API_URL}/api/user/update-bonus-adjustment/${selectedEmployee.employeeCode}/${monthYear}`,{bindingValue,productionValue},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});setSuccessMessage('تم تعديل الحافز بنجاح');setShowModal(false);setShowSuccessAnimation(true);setTimeout(()=>{setShowSuccessAnimation(false);fetchReports();},1500);}catch(error){console.error('خطأ في تعديل الحافز:',error);if(error.response){if(error.response.status===401){setError('التوكن غير صالح أو انتهت صلاحيته، يرجى تسجيل الدخول مرة أخرى');}else{setError(error.response.data.message||'حدث خطأ أثناء تعديل الحافز');}}else{setError('فشل الاتصال بالخادم، تحقق من الاتصال بالإنترنت');}}finally{setLoading(false);}},[selectedEmployee,bindingValue,productionValue,monthYear,fetchReports]);const calculateTotals=useCallback(()=>{return reports.reduce((acc,row)=>({basicBonus:acc.basicBonus+Number(row.basicBonus||0),totalAttendanceDays:acc.totalAttendanceDays+Number(row.totalAttendanceDays||0),totalDeductedDays:acc.totalDeductedDays+Number(row.totalDeductedDays||0),totalDeductions:acc.totalDeductions+Number(row.totalDeductions||0),bindingValue:acc.bindingValue+Number(row.bindingValue||0),productionValue:acc.productionValue+Number(row.productionValue||0),netBonus:acc.netBonus+Number(row.netBonus||0),employeeCode:'',name:'',shiftType:'',bonusPercentage:0}),{basicBonus:0,totalAttendanceDays:0,totalDeductedDays:0,totalDeductions:0,bindingValue:0,productionValue:0,netBonus:0,employeeCode:'',name:'',shiftType:'',bonusPercentage:0});},[reports]);const formatNumber=useCallback(num=>{return Number.isFinite(num)?num.toFixed(2):'0.00';},[]);const exportToExcel=useCallback(()=>{setLoading(true);try{const totals=calculateTotals();const reversedData=[...reports].reverse();const excelData=[...reversedData.map(row=>({'الصافي':formatNumber(row.netBonus),'قيمة الإنتاج':formatNumber(row.productionValue),'قيمة التربيط':formatNumber(row.bindingValue),'إجمالي الخصومات':formatNumber(row.totalDeductions),'إجمالي الأيام المخصومة':formatNumber(row.totalDeductedDays),'أيام الحضور':formatNumber(row.totalAttendanceDays),'نسبة الحافز':`${row.bonusPercentage}%`,'اسم الشيفت':row.shiftType,'الحافز الأساسي':formatNumber(row.basicBonus),'الاسم':row.name,'كود الموظف':row.employeeCode})),{'الصافي':formatNumber(totals.netBonus),'قيمة الإنتاج':formatNumber(totals.productionValue),'قيمة التربيط':formatNumber(totals.bindingValue),'إجمالي الخصومات':formatNumber(totals.totalDeductions),'إجمالي الأيام المخصومة':formatNumber(totals.totalDeductedDays),'أيام الحضور':formatNumber(totals.totalAttendanceDays),'نسبة الحافز':'','اسم الشيفت':'','الحافز الأساسي':formatNumber(totals.basicBonus),'الاسم':'','كود الموظف':'إجمالي'}];const worksheet=XLSX.utils.json_to_sheet(excelData);worksheet['!cols']=[{wch:15},{wch:15},{wch:15},{wch:15},{wch:20},{wch:15},{wch:15},{wch:15},{wch:15},{wch:20},{wch:15}];worksheet['!rtl']=true;const workbook=XLSX.utils.book_new();XLSX.utils.book_append_sheet(workbook,worksheet,'تقرير الحافز الشهري');XLSX.writeFile(workbook,`تقرير_الحافز_الشهري_${format(new Date(),'yyyy-MM-dd')}.xlsx`);}catch(err){setError(`حدث خطأ أثناء تصدير Excel: ${err.message}`);}finally{setLoading(false);}},[reports,calculateTotals,formatNumber]);const exportToWord=useCallback(async()=>{setLoading(true);try{const doc=new Document({sections:[{properties:{page:{margin:{top:720,right:720,bottom:720,left:720}}},children:[new Paragraph({text:'تقرير الحافز الشهري',heading:'Heading1',alignment:'right',spacing:{after:200}}),new Table({width:{size:100,type:WidthType.PERCENTAGE},rows:[new TableRow({children:[new TableCell({children:[new Paragraph({text:'كود الموظف',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'الاسم',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'الحافز الأساسي',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'اسم الشيفت',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'نسبة الحافز',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'أيام الحضور',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'إجمالي الأيام المخصومة',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'إجمالي الخصومات',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'قيمة التربيط',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'قيمة الإنتاج',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'الصافي',alignment:'right'})]})]}),...reports.map(report=>new TableRow({children:[new TableCell({children:[new Paragraph({text:report.employeeCode,alignment:'right'})]}),new TableCell({children:[new Paragraph({text:report.name,alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(report.basicBonus),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:report.shiftType,alignment:'right'})]}),new TableCell({children:[new Paragraph({text:`${report.bonusPercentage}%`,alignment:'right'})]}),new TableCell({children:[new Paragraph({text:report.totalAttendanceDays.toString(),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:report.totalDeductedDays.toString(),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(report.totalDeductions),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(report.bindingValue),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(report.productionValue),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(report.netBonus),alignment:'right'})]})]})),new TableRow({children:[new TableCell({children:[new Paragraph({text:'الإجمالي',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(reports.reduce((sum,report)=>sum+(report.basicBonus||0),0)),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:'',alignment:'right'})]}),new TableCell({children:[new Paragraph({text:reports.reduce((sum,report)=>sum+(report.totalAttendanceDays||0),0).toString(),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:reports.reduce((sum,report)=>sum+(report.totalDeductedDays||0),0).toString(),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(reports.reduce((sum,report)=>sum+(report.totalDeductions||0),0)),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(reports.reduce((sum,report)=>sum+(report.bindingValue||0),0)),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(reports.reduce((sum,report)=>sum+(report.productionValue||0),0)),alignment:'right'})]}),new TableCell({children:[new Paragraph({text:formatNumber(reports.reduce((sum,report)=>sum+(report.netBonus||0),0)),alignment:'right'})]})]})]})]}]});const blob=await Packer.toBlob(doc);saveAs(blob,`تقرير_الحافز_الشهري_${format(new Date(),'yyyy-MM-dd')}.docx`);}catch(err){setError(`حدث خطأ أثناء تصدير Word: ${err.message}`);}finally{setLoading(false);}},[reports,formatNumber]);const inputVariants={hover:{scale:1.02,transition:{duration:0.3,ease:'easeInOut'}},focus:{borderColor:'#7C3AED',boxShadow:'0 0 8px rgba(124, 58, 237, 0.5)',transition:{duration:0.3}}};const buttonVariants={hover:{scale:1.05,boxShadow:'0 4px 12px rgba(124, 58, 237, 0.2)',transition:{duration:0.3,ease:'easeInOut'}},tap:{scale:0.95,transition:{duration:0.2}}};const formVariants={hidden:{opacity:0,y:30,scale:0.95},visible:{opacity:1,y:0,scale:1,transition:{duration:0.6,ease:[0.6,-0.05,0.01,0.99],type:'spring',stiffness:120,damping:15}}};const tableVariants={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:0.6,ease:[0.6,-0.05,0.01,0.99],staggerChildren:0.1}}};const modalVariants={hidden:{opacity:0,scale:0.9,y:30},visible:{opacity:1,scale:1,y:0,transition:{type:'spring',stiffness:120,damping:15,duration:0.5}},exit:{opacity:0,scale:0.9,y:30,transition:{duration:0.3,ease:'easeInOut'}}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-4 sm:p-6 md:p-8 font-noto-sans-arabic relative dir=rtl overflow-auto\",style:{scrollBehavior:'smooth',overscrollBehavior:'none'},children:/*#__PURE__*/_jsxs(motion.div,{variants:formVariants,initial:\"hidden\",animate:\"visible\",className:\"container mx-auto relative z-10 max-w-7xl bg-white rounded-3xl shadow-md p-6 sm:p-8 md:p-10 border border-gray-200/50\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-8 text-right tracking-tight\",children:\"\\u062A\\u0642\\u0631\\u064A\\u0631 \\u0627\\u0644\\u062D\\u0627\\u0641\\u0632 \\u0627\\u0644\\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsxs(AnimatePresence,{children:[error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.3,ease:'easeInOut'},className:\"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-xl mb-6 text-right text-sm shadow-sm\",children:error}),successMessage&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:0.3,ease:'easeInOut'},className:\"bg-purple-50 border border-purple-300 text-purple-700 px-4 py-3 rounded-xl mb-6 text-right text-sm shadow-sm\",children:successMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-md p-6 border border-gray-200/50 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-800 text-sm font-semibold mb-2 text-right\",children:\"\\u0645\\u0646 \\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(motion.input,{type:\"date\",value:startDate,onChange:e=>setStartDate(e.target.value),className:\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\",variants:inputVariants,whileHover:\"hover\",whileFocus:\"focus\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-800 text-sm font-semibold mb-2 text-right\",children:\"\\u0625\\u0644\\u0649 \\u0627\\u0644\\u062A\\u0627\\u0631\\u064A\\u062E\"}),/*#__PURE__*/_jsx(motion.input,{type:\"date\",value:endDate,onChange:e=>setEndDate(e.target.value),className:\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\",variants:inputVariants,whileHover:\"hover\",whileFocus:\"focus\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-800 text-sm font-semibold mb-2 text-right\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(motion.input,{type:\"text\",value:employeeCode,onChange:e=>setEmployeeCode(e.target.value),className:\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",variants:inputVariants,whileHover:\"hover\",whileFocus:\"focus\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-800 text-sm font-semibold mb-2 text-right\",children:\"\\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"}),/*#__PURE__*/_jsxs(motion.select,{value:shiftId,onChange:e=>setShiftId(e.target.value),className:\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\",disabled:shifts.length===0,variants:inputVariants,whileHover:\"hover\",whileFocus:\"focus\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u062C\\u0645\\u064A\\u0639 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\\u0627\\u062A\"}),shifts.map(shift=>/*#__PURE__*/_jsx(\"option\",{value:shift._id,children:shift.shiftName},shift._id))]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"sm:col-span-2 lg:col-span-4 flex justify-end gap-4 flex-wrap\",children:[/*#__PURE__*/_jsx(motion.button,{variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",onClick:handleSearch,className:\"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\",disabled:loading,children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'بحث'}),/*#__PURE__*/_jsx(motion.button,{variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",onClick:handleShowAll,className:\"bg-gray-600 text-white px-6 py-3 rounded-xl hover:bg-gray-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\",disabled:loading,children:\"\\u0639\\u0631\\u0636 \\u0627\\u0644\\u0643\\u0644\"}),/*#__PURE__*/_jsxs(motion.button,{variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",onClick:exportToExcel,className:\"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\",disabled:loading||reports.length===0,children:[/*#__PURE__*/_jsx(Download,{className:\"inline-block w-5 h-5 ml-2\"}),\" \\u062A\\u0635\\u062F\\u064A\\u0631 \\u0625\\u0644\\u0649 Excel\"]}),/*#__PURE__*/_jsxs(motion.button,{variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",onClick:exportToWord,className:\"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\",disabled:loading||reports.length===0,children:[/*#__PURE__*/_jsx(Download,{className:\"inline-block w-5 h-5 ml-2\"}),\" \\u062A\\u0635\\u062F\\u064A\\u0631 \\u0625\\u0644\\u0649 Word\"]})]})]}),/*#__PURE__*/_jsxs(motion.div,{variants:tableVariants,initial:\"hidden\",animate:\"visible\",className:\"bg-white rounded-2xl shadow-md p-6 border border-gray-200/50 mt-8 overflow-x-auto\",ref:tableRef,children:[loading&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.4,ease:'easeInOut'},className:\"flex justify-center py-8\",children:/*#__PURE__*/_jsx(CustomLoadingSpinner,{})}),!loading&&/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0627\\u0644\\u0627\\u0633\\u0645\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0641\\u0632 \\u0627\\u0644\\u0623\\u0633\\u0627\\u0633\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0634\\u064A\\u0641\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0646\\u0633\\u0628\\u0629 \\u0627\\u0644\\u062D\\u0627\\u0641\\u0632\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u062D\\u0636\\u0648\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u0623\\u064A\\u0627\\u0645 \\u0627\\u0644\\u0645\\u062E\\u0635\\u0648\\u0645\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A \\u0627\\u0644\\u062E\\u0635\\u0648\\u0645\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0631\\u0628\\u064A\\u0637\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0625\\u0646\\u062A\\u0627\\u062C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u0627\\u0644\\u0635\\u0627\\u0641\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:[reports.length===0&&!error&&/*#__PURE__*/_jsx(motion.tr,{variants:{hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:0.4,ease:[0.6,-0.05,0.01,0.99]}}},children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"12\",className:\"px-4 py-4 text-center text-sm text-gray-600\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0628\\u064A\\u0627\\u0646\\u0627\\u062A \\u0644\\u0639\\u0631\\u0636\\u0647\\u0627\"})}),reports.map(report=>/*#__PURE__*/_jsx(ReportRow,{report:report,handleEdit:handleEdit},report.employeeCode)),reports.length>0&&/*#__PURE__*/_jsxs(motion.tr,{variants:{hidden:{opacity:0,x:20},visible:{opacity:1,x:0,transition:{duration:0.4,ease:[0.6,-0.05,0.01,0.99]}}},className:\"bg-gray-50 font-semibold\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:\"\\u0625\\u062C\\u0645\\u0627\\u0644\\u064A\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(reports.reduce((sum,report)=>sum+(report.basicBonus||0),0))}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:reports.reduce((sum,report)=>sum+(report.totalAttendanceDays||0),0)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:reports.reduce((sum,report)=>sum+(report.totalDeductedDays||0),0)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(reports.reduce((sum,report)=>sum+(report.totalDeductions||0),0))}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(reports.reduce((sum,report)=>sum+(report.bindingValue||0),0))}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(reports.reduce((sum,report)=>sum+(report.productionValue||0),0))}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\",children:formatNumber(reports.reduce((sum,report)=>sum+(report.netBonus||0),0))}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"})]})]})]})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:showSuccessAnimation&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.4,ease:'easeInOut'},className:\"fixed inset-0 flex items-center justify-center z-50 bg-black/20\",children:/*#__PURE__*/_jsx(CustomCheckIcon,{})})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showModal&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:0.3,ease:'easeInOut'},className:\"fixed inset-0 bg-black/20 flex items-center justify-center z-50\",children:/*#__PURE__*/_jsxs(motion.div,{variants:modalVariants,initial:\"hidden\",animate:\"visible\",exit:\"exit\",className:\"bg-white p-6 sm:p-8 rounded-2xl shadow-md max-w-md w-full border border-gray-200/50\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl sm:text-2xl font-extrabold text-gray-900 mb-6 text-right tracking-tight\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u062D\\u0627\\u0641\\u0632\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-800 text-sm font-semibold mb-2 text-right\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0631\\u0628\\u064A\\u0637\"}),/*#__PURE__*/_jsx(motion.input,{type:\"number\",value:bindingValue,onChange:e=>setBindingValue(parseFloat(e.target.value)||0),className:\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u062A\\u0631\\u0628\\u064A\\u0637\",variants:inputVariants,whileHover:\"hover\",whileFocus:\"focus\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-gray-800 text-sm font-semibold mb-2 text-right\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0625\\u0646\\u062A\\u0627\\u062C\"}),/*#__PURE__*/_jsx(motion.input,{type:\"number\",value:productionValue,onChange:e=>setProductionValue(parseFloat(e.target.value)||0),className:\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\",placeholder:\"\\u0623\\u062F\\u062E\\u0644 \\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0625\\u0646\\u062A\\u0627\\u062C\",variants:inputVariants,whileHover:\"hover\",whileFocus:\"focus\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(motion.button,{variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",onClick:handleSaveEdit,className:\"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\",disabled:loading,children:loading?/*#__PURE__*/_jsx(CustomLoadingSpinner,{}):'حفظ'}),/*#__PURE__*/_jsx(motion.button,{variants:buttonVariants,whileHover:\"hover\",whileTap:\"tap\",onClick:()=>setShowModal(false),className:\"bg-gray-600 text-white px-6 py-3 rounded-xl hover:bg-gray-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})})})]})});};export default MonthlyBonusReport;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","memo","motion","AnimatePresence","axios","format","XLSX","saveAs","Document","Packer","Paragraph","Table","TableCell","TableRow","WidthType","Pencil","Download","jsx","_jsx","jsxs","_jsxs","CustomCheckIcon","div","className","initial","scale","opacity","animate","transition","duration","ease","type","stiffness","damping","exit","children","svg","fill","viewBox","stroke","strokeWidth","pathLength","rotate","strokeLinecap","strokeLinejoin","d","CustomLoadingSpinner","repeat","Infinity","ReportRow","report","handleEdit","formatNumber","num","Number","isFinite","toFixed","tr","variants","hidden","x","visible","employeeCode","name","basicBonus","shiftType","bonusPercentage","totalAttendanceDays","totalDeductedDays","totalDeductions","bindingValue","productionValue","netBonus","button","hover","boxShadow","tap","whileHover","whileTap","onClick","MonthlyBonusReport","startDate","setStartDate","Date","endDate","setEndDate","setEmployeeCode","shiftId","setShiftId","shifts","setShifts","reports","setReports","loading","setLoading","error","setError","successMessage","setSuccessMessage","showSuccessAnimation","setShowSuccessAnimation","showModal","setShowModal","selectedEmployee","setSelectedEmployee","setBindingValue","setProductionValue","monthYear","setMonthYear","tableRef","fetchShifts","response","get","process","env","REACT_APP_API_URL","headers","Authorization","localStorage","getItem","data","length","console","status","message","fetchReports","params","processedData","map","row","setTimeout","handleSearch","handleShowAll","slice","handleSaveEdit","window","confirm","Error","undefined","put","calculateTotals","reduce","acc","exportToExcel","totals","reversedData","reverse","excelData","worksheet","utils","json_to_sheet","wch","workbook","book_new","book_append_sheet","writeFile","err","exportToWord","doc","sections","properties","page","margin","top","right","bottom","left","text","heading","alignment","spacing","after","width","size","PERCENTAGE","rows","toString","sum","blob","toBlob","inputVariants","focus","borderColor","buttonVariants","formVariants","y","tableVariants","staggerChildren","modalVariants","style","scrollBehavior","overscrollBehavior","input","value","onChange","e","target","whileFocus","placeholder","select","disabled","shift","_id","shiftName","ref","colSpan","parseFloat"],"sources":["/root/NileMIX-System_HR/frontend/src/components/MonthlyBonusReport.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback, memo } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { format } from 'date-fns';\nimport * as XLSX from 'https://cdn.jsdelivr.net/npm/xlsx@0.18.5/+esm';\nimport { saveAs } from 'https://cdn.jsdelivr.net/npm/file-saver@2.0.5/+esm';\nimport { Document, Packer, Paragraph, Table, TableCell, TableRow, WidthType } from 'https://cdn.jsdelivr.net/npm/docx@7.8.2/+esm';\nimport { Pencil, Download } from 'lucide-react';\n\nconst CustomCheckIcon = () => (\n  <motion.div\n    className=\"relative h-16 w-16\"\n    initial={{ scale: 0, opacity: 0 }}\n    animate={{ scale: 1, opacity: 1, transition: { duration: 0.7, ease: [0.6, -0.05, 0.01, 0.99], type: 'spring', stiffness: 120, damping: 15 } }}\n    exit={{ scale: 0, opacity: 0, transition: { duration: 0.4, ease: 'easeInOut' } }}\n  >\n    <motion.svg\n      className=\"h-full w-full text-purple-600\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={3}\n      initial={{ pathLength: 0, rotate: -45 }}\n      animate={{ pathLength: 1, rotate: 0, transition: { duration: 0.9, ease: [0.6, -0.05, 0.01, 0.99] } }}\n    >\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n    </motion.svg>\n  </motion.div>\n);\n\nconst CustomLoadingSpinner = () => (\n  <motion.div\n    className=\"flex items-center justify-center\"\n    initial={{ opacity: 0, scale: 0.8 }}\n    animate={{ opacity: 1, scale: 1, transition: { duration: 0.4, ease: 'easeInOut' } }}\n    exit={{ opacity: 0, scale: 0.8, transition: { duration: 0.4, ease: 'easeInOut' } }}\n  >\n    <motion.div\n      className=\"h-10 w-10 border-4 border-purple-600 border-t-transparent rounded-full\"\n      animate={{ rotate: 360 }}\n      transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n    />\n    <span className=\"mr-3 text-purple-600 text-sm font-medium\">جارٍ التحميل...</span>\n  </motion.div>\n);\n\nconst ReportRow = memo(({ report, handleEdit }) => {\n  const formatNumber = (num) => Number.isFinite(num) ? num.toFixed(2) : '0.00';\n  return (\n    <motion.tr\n      variants={{\n        hidden: { opacity: 0, x: 20 },\n        visible: { opacity: 1, x: 0, transition: { duration: 0.4, ease: [0.6, -0.05, 0.01, 0.99] } }\n      }}\n      className=\"hover:bg-purple-50 transition-colors duration-200\"\n    >\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{report.employeeCode}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{report.name}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(report.basicBonus)}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{report.shiftType}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{report.bonusPercentage}%</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{report.totalAttendanceDays}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{report.totalDeductedDays}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(report.totalDeductions)}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(report.bindingValue)}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(report.productionValue)}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right font-bold\">{formatNumber(report.netBonus)}</td>\n      <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">\n        <motion.button\n          variants={{\n            hover: { scale: 1.05, boxShadow: '0 4px 12px rgba(124, 58, 237, 0.2)', transition: { duration: 0.3, ease: 'easeInOut' } },\n            tap: { scale: 0.95, transition: { duration: 0.2 } }\n          }}\n          whileHover=\"hover\"\n          whileTap=\"tap\"\n          onClick={() => handleEdit(report)}\n          className=\"bg-purple-600 text-white px-4 py-2 rounded-xl hover:bg-purple-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\"\n        >\n          <Pencil className=\"inline-block w-4 h-4 ml-2\" /> تعديل\n        </motion.button>\n      </td>\n    </motion.tr>\n  );\n});\n\nconst MonthlyBonusReport = () => {\n  const [startDate, setStartDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [endDate, setEndDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n  const [employeeCode, setEmployeeCode] = useState('');\n  const [shiftId, setShiftId] = useState('');\n  const [shifts, setShifts] = useState([]);\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [successMessage, setSuccessMessage] = useState('');\n  const [showSuccessAnimation, setShowSuccessAnimation] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n  const [selectedEmployee, setSelectedEmployee] = useState(null);\n  const [bindingValue, setBindingValue] = useState(0);\n  const [productionValue, setProductionValue] = useState(0);\n  const [monthYear, setMonthYear] = useState('');\n  const tableRef = useRef(null);\n\n  useEffect(() => {\n    const fetchShifts = async () => {\n      setLoading(true);\n      setError('');\n      try {\n        const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/user/shifts`, {\n          headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n        });\n        setShifts(response.data);\n        if (response.data.length === 0) {\n          setError('لا توجد شيفتات متاحة في النظام');\n        }\n      } catch (error) {\n        console.error('خطأ في جلب الشيفتات:', error);\n        if (error.response) {\n          if (error.response.status === 401) {\n            setError('التوكن غير صالح أو انتهت صلاحيته، يرجى تسجيل الدخول مرة أخرى');\n          } else if (error.response.status === 404) {\n            setError('نقطة نهاية الشيفتات غير متاحة');\n          } else {\n            setError(error.response.data.message || 'حدث خطأ أثناء جلب الشيفتات');\n          }\n        } else {\n          setError('فشل الاتصال بالخادم، تحقق من الاتصال بالإنترنت أو إعدادات الخادم');\n        }\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchShifts();\n  }, []);\n\n  const fetchReports = useCallback(async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/user/monthly-bonus-report`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n        params: { startDate, endDate, employeeCode, shiftId }\n      });\n      const processedData = response.data.map(row => ({\n        ...row,\n        basicBonus: Number(row.basicBonus || 0),\n        totalDeductions: Number(row.totalDeductions || 0),\n        bindingValue: Number(row.bindingValue || 0),\n        productionValue: Number(row.productionValue || 0),\n        netBonus: Number(row.netBonus || 0)\n      }));\n      setReports(processedData);\n      setSuccessMessage('تم جلب التقرير بنجاح');\n      setShowSuccessAnimation(true);\n      setTimeout(() => setShowSuccessAnimation(false), 1500);\n      if (response.data.length === 0) {\n        setError('لا توجد تقارير متاحة للمعايير المحددة');\n      }\n    } catch (error) {\n      console.error('خطأ في جلب التقرير:', error);\n      if (error.response) {\n        if (error.response.status === 401) {\n          setError('التوكن غير صالح أو انتهت صلاحيته، يرجى تسجيل الدخول مرة أخرى');\n        } else if (error.response.status === 404) {\n          setError('لا يوجد بيانات متاحة لهذا التقرير');\n        } else {\n          setError(error.response.data.message || 'حدث خطأ أثناء جلب التقرير');\n        }\n      } else {\n        setError('فشل الاتصال بالخادم، تحقق من الاتصال بالإنترنت');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [startDate, endDate, employeeCode, shiftId]);\n\n  const handleSearch = useCallback(() => {\n    if (!startDate || !endDate) {\n      setError('يرجى إدخال تاريخ البداية والنهاية');\n      return;\n    }\n    if (new Date(startDate) > new Date(endDate)) {\n      setError('تاريخ البداية يجب أن يكون قبل تاريخ النهاية');\n      return;\n    }\n    fetchReports();\n  }, [startDate, endDate, fetchReports]);\n\n  const handleShowAll = useCallback(() => {\n    setEmployeeCode('');\n    setShiftId('');\n    fetchReports();\n  }, [fetchReports]);\n\n  const handleEdit = useCallback((report) => {\n    setSelectedEmployee(report);\n    setBindingValue(report.bindingValue || 0);\n    setProductionValue(report.productionValue || 0);\n    setMonthYear(startDate.slice(0, 7));\n    setShowModal(true);\n  }, [startDate]);\n\n  const handleSaveEdit = useCallback(async () => {\n    if (!window.confirm('هل أنت متأكد من حفظ التغييرات؟')) return;\n    setLoading(true);\n    try {\n      if (!selectedEmployee || !selectedEmployee.employeeCode) {\n        throw new Error('كود الموظف غير موجود');\n      }\n      if (bindingValue === undefined || productionValue === undefined) {\n        throw new Error('يرجى ملء جميع الحقول بقيم صالحة');\n      }\n      const response = await axios.put(\n        `${process.env.REACT_APP_API_URL}/api/user/update-bonus-adjustment/${selectedEmployee.employeeCode}/${monthYear}`,\n        { bindingValue, productionValue },\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } }\n      );\n      setSuccessMessage('تم تعديل الحافز بنجاح');\n      setShowModal(false);\n      setShowSuccessAnimation(true);\n      setTimeout(() => {\n        setShowSuccessAnimation(false);\n        fetchReports();\n      }, 1500);\n    } catch (error) {\n      console.error('خطأ في تعديل الحافز:', error);\n      if (error.response) {\n        if (error.response.status === 401) {\n          setError('التوكن غير صالح أو انتهت صلاحيته، يرجى تسجيل الدخول مرة أخرى');\n        } else {\n          setError(error.response.data.message || 'حدث خطأ أثناء تعديل الحافز');\n        }\n      } else {\n        setError('فشل الاتصال بالخادم، تحقق من الاتصال بالإنترنت');\n      }\n    } finally {\n      setLoading(false);\n    }\n  }, [selectedEmployee, bindingValue, productionValue, monthYear, fetchReports]);\n\n  const calculateTotals = useCallback(() => {\n    return reports.reduce((acc, row) => ({\n      basicBonus: acc.basicBonus + Number(row.basicBonus || 0),\n      totalAttendanceDays: acc.totalAttendanceDays + Number(row.totalAttendanceDays || 0),\n      totalDeductedDays: acc.totalDeductedDays + Number(row.totalDeductedDays || 0),\n      totalDeductions: acc.totalDeductions + Number(row.totalDeductions || 0),\n      bindingValue: acc.bindingValue + Number(row.bindingValue || 0),\n      productionValue: acc.productionValue + Number(row.productionValue || 0),\n      netBonus: acc.netBonus + Number(row.netBonus || 0),\n      employeeCode: '',\n      name: '',\n      shiftType: '',\n      bonusPercentage: 0\n    }), {\n      basicBonus: 0,\n      totalAttendanceDays: 0,\n      totalDeductedDays: 0,\n      totalDeductions: 0,\n      bindingValue: 0,\n      productionValue: 0,\n      netBonus: 0,\n      employeeCode: '',\n      name: '',\n      shiftType: '',\n      bonusPercentage: 0\n    });\n  }, [reports]);\n\n  const formatNumber = useCallback((num) => {\n    return Number.isFinite(num) ? num.toFixed(2) : '0.00';\n  }, []);\n\n  const exportToExcel = useCallback(() => {\n    setLoading(true);\n    try {\n      const totals = calculateTotals();\n      const reversedData = [...reports].reverse();\n      const excelData = [\n        ...reversedData.map(row => ({\n          'الصافي': formatNumber(row.netBonus),\n          'قيمة الإنتاج': formatNumber(row.productionValue),\n          'قيمة التربيط': formatNumber(row.bindingValue),\n          'إجمالي الخصومات': formatNumber(row.totalDeductions),\n          'إجمالي الأيام المخصومة': formatNumber(row.totalDeductedDays),\n          'أيام الحضور': formatNumber(row.totalAttendanceDays),\n          'نسبة الحافز': `${row.bonusPercentage}%`,\n          'اسم الشيفت': row.shiftType,\n          'الحافز الأساسي': formatNumber(row.basicBonus),\n          'الاسم': row.name,\n          'كود الموظف': row.employeeCode\n        })),\n        {\n          'الصافي': formatNumber(totals.netBonus),\n          'قيمة الإنتاج': formatNumber(totals.productionValue),\n          'قيمة التربيط': formatNumber(totals.bindingValue),\n          'إجمالي الخصومات': formatNumber(totals.totalDeductions),\n          'إجمالي الأيام المخصومة': formatNumber(totals.totalDeductedDays),\n          'أيام الحضور': formatNumber(totals.totalAttendanceDays),\n          'نسبة الحافز': '',\n          'اسم الشيفت': '',\n          'الحافز الأساسي': formatNumber(totals.basicBonus),\n          'الاسم': '',\n          'كود الموظف': 'إجمالي'\n        }\n      ];\n      const worksheet = XLSX.utils.json_to_sheet(excelData);\n      worksheet['!cols'] = [\n        { wch: 15 }, { wch: 15 }, { wch: 15 }, { wch: 15 }, { wch: 20 }, { wch: 15 }, { wch: 15 }, { wch: 15 }, { wch: 15 }, { wch: 20 }, { wch: 15 }\n      ];\n      worksheet['!rtl'] = true;\n      const workbook = XLSX.utils.book_new();\n      XLSX.utils.book_append_sheet(workbook, worksheet, 'تقرير الحافز الشهري');\n      XLSX.writeFile(workbook, `تقرير_الحافز_الشهري_${format(new Date(), 'yyyy-MM-dd')}.xlsx`);\n    } catch (err) {\n      setError(`حدث خطأ أثناء تصدير Excel: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [reports, calculateTotals, formatNumber]);\n\n  const exportToWord = useCallback(async () => {\n    setLoading(true);\n    try {\n      const doc = new Document({\n        sections: [{\n          properties: { page: { margin: { top: 720, right: 720, bottom: 720, left: 720 } } },\n          children: [\n            new Paragraph({\n              text: 'تقرير الحافز الشهري',\n              heading: 'Heading1',\n              alignment: 'right',\n              spacing: { after: 200 },\n            }),\n            new Table({\n              width: { size: 100, type: WidthType.PERCENTAGE },\n              rows: [\n                new TableRow({\n                  children: [\n                    new TableCell({ children: [new Paragraph({ text: 'كود الموظف', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'الاسم', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'الحافز الأساسي', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'اسم الشيفت', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'نسبة الحافز', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'أيام الحضور', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'إجمالي الأيام المخصومة', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'إجمالي الخصومات', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'قيمة التربيط', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'قيمة الإنتاج', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: 'الصافي', alignment: 'right' })] }),\n                  ],\n                }),\n                ...reports.map(report => new TableRow({\n                  children: [\n                    new TableCell({ children: [new Paragraph({ text: report.employeeCode, alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: report.name, alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(report.basicBonus), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: report.shiftType, alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: `${report.bonusPercentage}%`, alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: report.totalAttendanceDays.toString(), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: report.totalDeductedDays.toString(), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(report.totalDeductions), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(report.bindingValue), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(report.productionValue), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(report.netBonus), alignment: 'right' })] }),\n                  ],\n                })),\n                new TableRow({\n                  children: [\n                    new TableCell({ children: [new Paragraph({ text: 'الإجمالي', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: '', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(reports.reduce((sum, report) => sum + (report.basicBonus || 0), 0)), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: '', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: '', alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: reports.reduce((sum, report) => sum + (report.totalAttendanceDays || 0), 0).toString(), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: reports.reduce((sum, report) => sum + (report.totalDeductedDays || 0), 0).toString(), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(reports.reduce((sum, report) => sum + (report.totalDeductions || 0), 0)), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(reports.reduce((sum, report) => sum + (report.bindingValue || 0), 0)), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(reports.reduce((sum, report) => sum + (report.productionValue || 0), 0)), alignment: 'right' })] }),\n                    new TableCell({ children: [new Paragraph({ text: formatNumber(reports.reduce((sum, report) => sum + (report.netBonus || 0), 0)), alignment: 'right' })] }),\n                  ],\n                }),\n              ],\n            }),\n          ],\n        }],\n      });\n      const blob = await Packer.toBlob(doc);\n      saveAs(blob, `تقرير_الحافز_الشهري_${format(new Date(), 'yyyy-MM-dd')}.docx`);\n    } catch (err) {\n      setError(`حدث خطأ أثناء تصدير Word: ${err.message}`);\n    } finally {\n      setLoading(false);\n    }\n  }, [reports, formatNumber]);\n\n  const inputVariants = {\n    hover: { scale: 1.02, transition: { duration: 0.3, ease: 'easeInOut' } },\n    focus: { borderColor: '#7C3AED', boxShadow: '0 0 8px rgba(124, 58, 237, 0.5)', transition: { duration: 0.3 } },\n  };\n\n  const buttonVariants = {\n    hover: { scale: 1.05, boxShadow: '0 4px 12px rgba(124, 58, 237, 0.2)', transition: { duration: 0.3, ease: 'easeInOut' } },\n    tap: { scale: 0.95, transition: { duration: 0.2 } },\n  };\n\n  const formVariants = {\n    hidden: { opacity: 0, y: 30, scale: 0.95 },\n    visible: { opacity: 1, y: 0, scale: 1, transition: { duration: 0.6, ease: [0.6, -0.05, 0.01, 0.99], type: 'spring', stiffness: 120, damping: 15 } },\n  };\n\n  const tableVariants = {\n    hidden: { opacity: 0, y: 20 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: [0.6, -0.05, 0.01, 0.99], staggerChildren: 0.1 } },\n  };\n\n  const modalVariants = {\n    hidden: { opacity: 0, scale: 0.9, y: 30 },\n    visible: { opacity: 1, scale: 1, y: 0, transition: { type: 'spring', stiffness: 120, damping: 15, duration: 0.5 } },\n    exit: { opacity: 0, scale: 0.9, y: 30, transition: { duration: 0.3, ease: 'easeInOut' } },\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-4 sm:p-6 md:p-8 font-noto-sans-arabic relative dir=rtl overflow-auto\" style={{ scrollBehavior: 'smooth', overscrollBehavior: 'none' }}>\n      <motion.div\n        variants={formVariants}\n        initial=\"hidden\"\n        animate=\"visible\"\n        className=\"container mx-auto relative z-10 max-w-7xl bg-white rounded-3xl shadow-md p-6 sm:p-8 md:p-10 border border-gray-200/50\"\n      >\n        <h2 className=\"text-3xl sm:text-4xl font-extrabold text-gray-900 mb-8 text-right tracking-tight\">\n          تقرير الحافز الشهري\n        </h2>\n        <AnimatePresence>\n          {error && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              transition={{ duration: 0.3, ease: 'easeInOut' }}\n              className=\"bg-red-50 border border-red-300 text-red-700 px-4 py-3 rounded-xl mb-6 text-right text-sm shadow-sm\"\n            >\n              {error}\n            </motion.div>\n          )}\n          {successMessage && (\n            <motion.div\n              initial={{ opacity: 0, y: -10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              transition={{ duration: 0.3, ease: 'easeInOut' }}\n              className=\"bg-purple-50 border border-purple-300 text-purple-700 px-4 py-3 rounded-xl mb-6 text-right text-sm shadow-sm\"\n            >\n              {successMessage}\n            </motion.div>\n          )}\n        </AnimatePresence>\n        <div className=\"bg-white rounded-2xl shadow-md p-6 border border-gray-200/50 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6\">\n          <div>\n            <label className=\"block text-gray-800 text-sm font-semibold mb-2 text-right\">من التاريخ</label>\n            <motion.input\n              type=\"date\"\n              value={startDate}\n              onChange={(e) => setStartDate(e.target.value)}\n              className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\"\n              variants={inputVariants}\n              whileHover=\"hover\"\n              whileFocus=\"focus\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-gray-800 text-sm font-semibold mb-2 text-right\">إلى التاريخ</label>\n            <motion.input\n              type=\"date\"\n              value={endDate}\n              onChange={(e) => setEndDate(e.target.value)}\n              className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\"\n              variants={inputVariants}\n              whileHover=\"hover\"\n              whileFocus=\"focus\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-gray-800 text-sm font-semibold mb-2 text-right\">كود الموظف</label>\n            <motion.input\n              type=\"text\"\n              value={employeeCode}\n              onChange={(e) => setEmployeeCode(e.target.value)}\n              className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\"\n              placeholder=\"أدخل كود الموظف\"\n              variants={inputVariants}\n              whileHover=\"hover\"\n              whileFocus=\"focus\"\n            />\n          </div>\n          <div>\n            <label className=\"block text-gray-800 text-sm font-semibold mb-2 text-right\">الشيفت</label>\n            <motion.select\n              value={shiftId}\n              onChange={(e) => setShiftId(e.target.value)}\n              className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\"\n              disabled={shifts.length === 0}\n              variants={inputVariants}\n              whileHover=\"hover\"\n              whileFocus=\"focus\"\n            >\n              <option value=\"\">جميع الشيفتات</option>\n              {shifts.map((shift) => (\n                <option key={shift._id} value={shift._id}>\n                  {shift.shiftName}\n                </option>\n              ))}\n            </motion.select>\n          </div>\n          <div className=\"sm:col-span-2 lg:col-span-4 flex justify-end gap-4 flex-wrap\">\n            <motion.button\n              variants={buttonVariants}\n              whileHover=\"hover\"\n              whileTap=\"tap\"\n              onClick={handleSearch}\n              className=\"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\"\n              disabled={loading}\n            >\n              {loading ? <CustomLoadingSpinner /> : 'بحث'}\n            </motion.button>\n            <motion.button\n              variants={buttonVariants}\n              whileHover=\"hover\"\n              whileTap=\"tap\"\n              onClick={handleShowAll}\n              className=\"bg-gray-600 text-white px-6 py-3 rounded-xl hover:bg-gray-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\"\n              disabled={loading}\n            >\n              عرض الكل\n            </motion.button>\n            <motion.button\n              variants={buttonVariants}\n              whileHover=\"hover\"\n              whileTap=\"tap\"\n              onClick={exportToExcel}\n              className=\"bg-green-600 text-white px-6 py-3 rounded-xl hover:bg-green-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\"\n              disabled={loading || reports.length === 0}\n            >\n              <Download className=\"inline-block w-5 h-5 ml-2\" /> تصدير إلى Excel\n            </motion.button>\n            <motion.button\n              variants={buttonVariants}\n              whileHover=\"hover\"\n              whileTap=\"tap\"\n              onClick={exportToWord}\n              className=\"bg-blue-600 text-white px-6 py-3 rounded-xl hover:bg-blue-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\"\n              disabled={loading || reports.length === 0}\n            >\n              <Download className=\"inline-block w-5 h-5 ml-2\" /> تصدير إلى Word\n            </motion.button>\n          </div>\n        </div>\n        <motion.div\n          variants={tableVariants}\n          initial=\"hidden\"\n          animate=\"visible\"\n          className=\"bg-white rounded-2xl shadow-md p-6 border border-gray-200/50 mt-8 overflow-x-auto\"\n          ref={tableRef}\n        >\n          {loading && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.4, ease: 'easeInOut' }}\n              className=\"flex justify-center py-8\"\n            >\n              <CustomLoadingSpinner />\n            </motion.div>\n          )}\n          {!loading && (\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">كود الموظف</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">الاسم</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">الحافز الأساسي</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">اسم الشيفت</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">نسبة الحافز</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">أيام الحضور</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">إجمالي الأيام المخصومة</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">إجمالي الخصومات</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">قيمة التربيط</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">قيمة الإنتاج</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">الصافي</th>\n                  <th className=\"px-4 py-3 text-right text-xs font-semibold text-gray-800 uppercase tracking-wider\">تعديل</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {reports.length === 0 && !error && (\n                  <motion.tr\n                    variants={{\n                      hidden: { opacity: 0, x: 20 },\n                      visible: { opacity: 1, x: 0, transition: { duration: 0.4, ease: [0.6, -0.05, 0.01, 0.99] } }\n                    }}\n                  >\n                    <td colSpan=\"12\" className=\"px-4 py-4 text-center text-sm text-gray-600\">\n                      لا توجد بيانات لعرضها\n                    </td>\n                  </motion.tr>\n                )}\n                {reports.map((report) => (\n                  <ReportRow key={report.employeeCode} report={report} handleEdit={handleEdit} />\n                ))}\n                {reports.length > 0 && (\n                  <motion.tr\n                    variants={{\n                      hidden: { opacity: 0, x: 20 },\n                      visible: { opacity: 1, x: 0, transition: { duration: 0.4, ease: [0.6, -0.05, 0.01, 0.99] } }\n                    }}\n                    className=\"bg-gray-50 font-semibold\"\n                  >\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">إجمالي</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"></td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(reports.reduce((sum, report) => sum + (report.basicBonus || 0), 0))}</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"></td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"></td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{reports.reduce((sum, report) => sum + (report.totalAttendanceDays || 0), 0)}</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{reports.reduce((sum, report) => sum + (report.totalDeductedDays || 0), 0)}</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(reports.reduce((sum, report) => sum + (report.totalDeductions || 0), 0))}</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(reports.reduce((sum, report) => sum + (report.bindingValue || 0), 0))}</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(reports.reduce((sum, report) => sum + (report.productionValue || 0), 0))}</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\">{formatNumber(reports.reduce((sum, report) => sum + (report.netBonus || 0), 0))}</td>\n                    <td className=\"px-4 py-4 whitespace-nowrap text-sm text-gray-900 text-right\"></td>\n                  </motion.tr>\n                )}\n              </tbody>\n            </table>\n          )}\n        </motion.div>\n        <AnimatePresence>\n          {showSuccessAnimation && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.4, ease: 'easeInOut' }}\n              className=\"fixed inset-0 flex items-center justify-center z-50 bg-black/20\"\n            >\n              <CustomCheckIcon />\n            </motion.div>\n          )}\n        </AnimatePresence>\n        <AnimatePresence>\n          {showModal && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.3, ease: 'easeInOut' }}\n              className=\"fixed inset-0 bg-black/20 flex items-center justify-center z-50\"\n            >\n              <motion.div\n                variants={modalVariants}\n                initial=\"hidden\"\n                animate=\"visible\"\n                exit=\"exit\"\n                className=\"bg-white p-6 sm:p-8 rounded-2xl shadow-md max-w-md w-full border border-gray-200/50\"\n              >\n                <h3 className=\"text-xl sm:text-2xl font-extrabold text-gray-900 mb-6 text-right tracking-tight\">تعديل الحافز</h3>\n                <div className=\"mb-6\">\n                  <label className=\"block text-gray-800 text-sm font-semibold mb-2 text-right\">قيمة التربيط</label>\n                  <motion.input\n                    type=\"number\"\n                    value={bindingValue}\n                    onChange={(e) => setBindingValue(parseFloat(e.target.value) || 0)}\n                    className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\"\n                    placeholder=\"أدخل قيمة التربيط\"\n                    variants={inputVariants}\n                    whileHover=\"hover\"\n                    whileFocus=\"focus\"\n                  />\n                </div>\n                <div className=\"mb-6\">\n                  <label className=\"block text-gray-800 text-sm font-semibold mb-2 text-right\">قيمة الإنتاج</label>\n                  <motion.input\n                    type=\"number\"\n                    value={productionValue}\n                    onChange={(e) => setProductionValue(parseFloat(e.target.value) || 0)}\n                    className=\"w-full p-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-600 transition-all duration-300 bg-gray-50 text-sm shadow-sm hover:shadow-md\"\n                    placeholder=\"أدخل قيمة الإنتاج\"\n                    variants={inputVariants}\n                    whileHover=\"hover\"\n                    whileFocus=\"focus\"\n                  />\n                </div>\n                <div className=\"flex justify-end gap-4\">\n                  <motion.button\n                    variants={buttonVariants}\n                    whileHover=\"hover\"\n                    whileTap=\"tap\"\n                    onClick={handleSaveEdit}\n                    className=\"bg-purple-600 text-white px-6 py-3 rounded-xl hover:bg-purple-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\"\n                    disabled={loading}\n                  >\n                    {loading ? <CustomLoadingSpinner /> : 'حفظ'}\n                  </motion.button>\n                  <motion.button\n                    variants={buttonVariants}\n                    whileHover=\"hover\"\n                    whileTap=\"tap\"\n                    onClick={() => setShowModal(false)}\n                    className=\"bg-gray-600 text-white px-6 py-3 rounded-xl hover:bg-gray-700 transition-all duration-300 font-semibold text-sm shadow-sm hover:shadow-md\"\n                  >\n                    إلغاء\n                  </motion.button>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default MonthlyBonusReport;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import React,{useState,useEffect}from'react';import{motion,AnimatePresence}from'framer-motion';import axios from'axios';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import*as XLSX from'xlsx';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CustomCheckIcon=()=>/*#__PURE__*/_jsx(motion.div,{className:\"relative h-20 w-20\",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1,transition:{duration:0.7,ease:[0.6,-0.05,0.01,0.99],type:'spring',stiffness:120,damping:15}},exit:{scale:0,opacity:0,transition:{duration:0.4,ease:'easeInOut'}},children:/*#__PURE__*/_jsx(motion.svg,{className:\"h-full w-full text-purple-500\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",strokeWidth:3,initial:{pathLength:0,rotate:-45},animate:{pathLength:1,rotate:0,transition:{duration:0.9,ease:[0.6,-0.05,0.01,0.99]}},children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M5 13l4 4L19 7\"})})});const CustomLoadingSpinner=()=>/*#__PURE__*/_jsxs(motion.div,{className:\"flex items-center justify-center\",initial:{opacity:0},animate:{opacity:1,transition:{duration:0.4,ease:'easeInOut'}},exit:{opacity:0,transition:{duration:0.4,ease:'easeInOut'}},children:[/*#__PURE__*/_jsx(motion.div,{className:\"h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full\",animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:'linear'}}),/*#__PURE__*/_jsx(\"span\",{className:\"mr-3 text-purple-500 text-base font-medium\",children:\"\\u062C\\u0627\\u0631\\u064D \\u0627\\u0644\\u062A\\u062D\\u0645\\u064A\\u0644...\"})]});const AdvanceIcon=()=>/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 text-purple-500\",children:/*#__PURE__*/_jsx(\"svg\",{viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\"})})});function CreateAdvance(){const[formData,setFormData]=useState({employeeCode:'',employeeName:'',advanceAmount:'',advanceDate:'',installmentMonths:''});const[loading,setLoading]=useState(false);const[showSuccessAnimation,setShowSuccessAnimation]=useState(false);const[employeeFound,setEmployeeFound]=useState(null);const[advances,setAdvances]=useState([]);const[editModalOpen,setEditModalOpen]=useState(false);const[editFormData,setEditFormData]=useState({id:'',advanceAmount:'',advanceDate:'',installmentMonths:'',status:'active'});const[filterActive,setFilterActive]=useState(false);const[filterCompleted,setFilterCompleted]=useState(false);const[searchEmployeeCode,setSearchEmployeeCode]=useState('');useEffect(()=>{fetchAdvances();},[]);const fetchAdvances=async()=>{setLoading(true);try{const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/advance/advances`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){setAdvances(response.data.advances);}else{toast.error(response.data.message||'فشل جلب السلف');}}catch(err){var _err$response,_err$response$data;toast.error(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||'حدث خطأ أثناء جلب السلف');}finally{setLoading(false);}};const exportToExcel=()=>{const filteredAdvances=advances.filter(advance=>{const matchesStatus=!filterActive&&!filterCompleted||filterActive&&advance.status==='active'||filterCompleted&&advance.status==='completed';const matchesEmployeeCode=searchEmployeeCode?advance.employeeCode.toLowerCase().includes(searchEmployeeCode.toLowerCase()):true;return matchesStatus&&matchesEmployeeCode;});const data=filteredAdvances.map(advance=>({'كود الموظف':advance.employeeCode,'اسم الموظف':advance.employeeName,'قيمة السلفة':advance.advanceAmount,'تاريخ السلفة':advance.advanceDate,'عدد الأشهر':advance.installmentMonths,'القسط الشهري':advance.monthlyInstallment.toFixed(2),'المبلغ المتبقي':advance.remainingAmount,'تاريخ السداد النهائي':advance.finalRepaymentDate,'الحالة':advance.status==='active'?'نشط':'مكتمل'}));const ws=XLSX.utils.json_to_sheet(data);const wb=XLSX.utils.book_new();XLSX.utils.book_append_sheet(wb,ws,'Advances');XLSX.writeFile(wb,`advances_${new Date().toISOString().split('T')[0]}.xlsx`);};const searchEmployee=async()=>{if(!formData.employeeCode){setEmployeeFound(null);setFormData(prev=>({...prev,employeeName:''}));toast.error('يرجى إدخال كود الموظف');return;}setLoading(true);const sanitizedEmployeeCode=String(formData.employeeCode).trim();try{console.log('Sending request to search employee with code:',sanitizedEmployeeCode);console.log('API URL:',`${process.env.REACT_APP_API_URL}/api/advance/search-employee`);console.log('Token:',localStorage.getItem('token'));const response=await axios.get(`${process.env.REACT_APP_API_URL}/api/advance/search-employee`,{params:{employeeCode:sanitizedEmployeeCode},headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});console.log('API Response:',response.data);if(response.data.success&&response.data.employee&&response.data.employee.name){setEmployeeFound(response.data.employee);setFormData(prev=>({...prev,employeeName:response.data.employee.name}));toast.success(`تم العثور على الموظف: ${response.data.employee.name}`);}else{setEmployeeFound(null);setFormData(prev=>({...prev,employeeName:''}));toast.error(response.data.message||'لم يتم العثور على الموظف');}}catch(err){var _err$response2,_err$response3,_err$response4,_err$response4$data;console.error('Error in searchEmployee:',{message:err.message,response:(_err$response2=err.response)===null||_err$response2===void 0?void 0:_err$response2.data,status:(_err$response3=err.response)===null||_err$response3===void 0?void 0:_err$response3.status,employeeCode:sanitizedEmployeeCode});setEmployeeFound(null);setFormData(prev=>({...prev,employeeName:''}));const errorMessage=((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||'حدث خطأ أثناء البحث عن الموظف';toast.error(errorMessage);}finally{setLoading(false);}};const handleInputChange=e=>{const{name,value}=e.target;const trimmedValue=String(value).trim();setFormData({...formData,[name]:trimmedValue});};const handleSubmit=async e=>{e.preventDefault();if(!employeeFound){toast.error('يرجى البحث عن موظف صالح أولاً');return;}if(!formData.advanceAmount||!formData.advanceDate||!formData.installmentMonths){toast.error('جميع الحقول مطلوبة');return;}if(parseFloat(formData.advanceAmount)<=0||parseInt(formData.installmentMonths)<=0){toast.error('قيمة السلفة وعدد الأشهر يجب أن تكون قيم إيجابية');return;}setLoading(true);try{console.log('Submitting advance with data:',formData);const response=await axios.post(`${process.env.REACT_APP_API_URL}/api/advance/create`,{...formData,monthlyInstallment:parseFloat(formData.advanceAmount)/parseInt(formData.installmentMonths),remainingAmount:formData.advanceAmount},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});console.log('Create Advance Response:',response.data);if(response.data.success||response.status===204){setShowSuccessAnimation(true);toast.success('تم تسجيل السلفة بنجاح');setTimeout(()=>{setShowSuccessAnimation(false);setFormData({employeeCode:'',employeeName:'',advanceAmount:'',advanceDate:'',installmentMonths:''});setEmployeeFound(null);fetchAdvances();},1200);}else{toast.error(response.data.message||'فشل تسجيل السلفة');}}catch(err){var _err$response5,_err$response6,_err$response7,_err$response7$data;console.error('Error in handleSubmit:',{message:err.message,response:(_err$response5=err.response)===null||_err$response5===void 0?void 0:_err$response5.data,status:(_err$response6=err.response)===null||_err$response6===void 0?void 0:_err$response6.status});toast.error(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.message)||'حدث خطأ أثناء تسجيل السلفة');}finally{setLoading(false);}};const openEditModal=advance=>{setEditFormData({id:advance._id,advanceAmount:advance.advanceAmount,advanceDate:advance.advanceDate,installmentMonths:advance.installmentMonths,status:advance.status});setEditModalOpen(true);};const handleEditInputChange=e=>{const{name,value}=e.target;const trimmedValue=String(value).trim();setEditFormData({...editFormData,[name]:trimmedValue});};const handleEditSubmit=async e=>{e.preventDefault();if(!editFormData.advanceAmount||!editFormData.advanceDate||!editFormData.installmentMonths||!editFormData.status){toast.error('جميع الحقول مطلوبة');return;}if(parseFloat(editFormData.advanceAmount)<=0||parseInt(editFormData.installmentMonths)<=0){toast.error('قيمة السلفة وعدد الأشهر يجب أن تكون قيم إيجابية');return;}setLoading(true);try{const response=await axios.put(`${process.env.REACT_APP_API_URL}/api/advance/update/${editFormData.id}`,{advanceAmount:editFormData.advanceAmount,advanceDate:editFormData.advanceDate,installmentMonths:editFormData.installmentMonths,status:editFormData.status},{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){toast.success('تم تعديل السلفة بنجاح');setEditModalOpen(false);fetchAdvances();}else{toast.error(response.data.message||'فشل تعديل السلفة');}}catch(err){var _err$response8,_err$response8$data;toast.error(((_err$response8=err.response)===null||_err$response8===void 0?void 0:(_err$response8$data=_err$response8.data)===null||_err$response8$data===void 0?void 0:_err$response8$data.message)||'حدث خطأ أثناء تعديل السلفة');}finally{setLoading(false);}};const handleDelete=async id=>{if(!window.confirm('هل أنت متأكد من حذف هذه السلفة؟')){return;}setLoading(true);try{const response=await axios.delete(`${process.env.REACT_APP_API_URL}/api/advance/delete/${id}`,{headers:{Authorization:`Bearer ${localStorage.getItem('token')}`}});if(response.data.success){toast.success('تم حذف السلفة بنجاح');fetchAdvances();}else{toast.error(response.data.message||'فشل حذف السلفة');}}catch(err){var _err$response9,_err$response9$data;toast.error(((_err$response9=err.response)===null||_err$response9===void 0?void 0:(_err$response9$data=_err$response9.data)===null||_err$response9$data===void 0?void 0:_err$response9$data.message)||'حدث خطأ أثناء حذف السلفة');}finally{setLoading(false);}};const filteredAdvances=advances.filter(advance=>{const matchesStatus=!filterActive&&!filterCompleted||filterActive&&advance.status==='active'||filterCompleted&&advance.status==='completed';const matchesEmployeeCode=searchEmployeeCode?advance.employeeCode.toLowerCase().includes(searchEmployeeCode.toLowerCase()):true;return matchesStatus&&matchesEmployeeCode;});return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-purple-600 via-blue-500 to-indigo-600 p-4 sm:p-6 lg:p-8 font-noto-sans-arabic dir=rtl overflow-auto relative\",children:[/*#__PURE__*/_jsx(motion.div,{className:\"absolute inset-0 bg-gradient-to-br from-purple-600/30 via-blue-500/30 to-indigo-600/30\",animate:{background:['linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(59, 130, 246, 0.3), rgba(79, 70, 229, 0.3))','linear-gradient(135deg, rgba(139, 92, 246, 0.4), rgba(59, 130, 246, 0.4), rgba(79, 70, 229, 0.4))','linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(59, 130, 246, 0.3), rgba(79, 70, 229, 0.3))']},transition:{duration:10,repeat:Infinity,repeatType:'reverse',ease:'easeInOut'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto max-w-7xl relative z-10\",children:[/*#__PURE__*/_jsx(motion.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:0.6,ease:[0.6,-0.05,0.01,0.99],type:'spring',stiffness:120,damping:15},className:\"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white mb-8 sm:mb-10 text-right tracking-tight drop-shadow-lg\",children:\"\\u0625\\u0646\\u0634\\u0627\\u0621 \\u0633\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.6,ease:[0.6,-0.05,0.01,0.99],type:'spring',stiffness:120,damping:15},className:\"bg-white/90 backdrop-blur-lg p-6 sm:p-8 lg:p-10 rounded-3xl shadow-2xl border border-purple-200/30\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 space-x-reverse mb-6\",children:[/*#__PURE__*/_jsx(AdvanceIcon,{}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl sm:text-2xl font-bold text-purple-900\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0633\\u0644\\u0641\\u0629 \\u062C\\u062F\\u064A\\u062F\\u0629\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 sm:space-x-reverse mb-6\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeCode\",value:formData.employeeCode,onChange:handleInputChange,placeholder:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",className:\"flex-1 p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"}),/*#__PURE__*/_jsx(\"button\",{onClick:searchEmployee,disabled:loading,className:\"px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 disabled:bg-purple-400 shadow-md hover:shadow-lg\",children:\"\\u0628\\u062D\\u062B\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setFormData({employeeCode:'',employeeName:'',advanceAmount:'',advanceDate:'',installmentMonths:''});setEmployeeFound(null);toast.info('تم إعادة تعيين النموذج');},className:\"px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-300 shadow-md hover:shadow-lg\",children:\"\\u0625\\u0639\\u0627\\u062F\\u0629 \\u062A\\u0639\\u064A\\u064A\\u0646\"})]}),employeeFound&&/*#__PURE__*/_jsxs(motion.p,{initial:{opacity:0},animate:{opacity:1},className:\"text-green-600 mb-6 text-right font-medium\",children:[\"\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641: \",employeeFound.name]}),!employeeFound&&formData.employeeCode&&!loading&&/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},className:\"text-red-600 mb-6 text-right font-medium\",children:\"\\u0644\\u0645 \\u064A\\u062A\\u0645 \\u0627\\u0644\\u0639\\u062B\\u0648\\u0631 \\u0639\\u0644\\u0649 \\u0645\\u0648\\u0638\\u0641 \\u0628\\u0647\\u0630\\u0627 \\u0627\\u0644\\u0643\\u0648\\u062F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"employeeName\",value:formData.employeeName,placeholder:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",disabled:true,className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none text-right bg-gray-100/50 backdrop-blur-sm shadow-sm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"advanceAmount\",value:formData.advanceAmount,onChange:handleInputChange,placeholder:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\",className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"advanceDate\",value:formData.advanceDate,onChange:handleInputChange,placeholder:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\",className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"installmentMonths\",value:formData.installmentMonths,onChange:handleInputChange,placeholder:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0634\\u0647\\u0631\",className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,disabled:loading||!employeeFound,className:\"mt-6 w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 disabled:bg-purple-400 shadow-md hover:shadow-lg\",children:\"\\u062A\\u0633\\u062C\\u064A\\u0644 \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\"})]}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.6,delay:0.2,ease:[0.6,-0.05,0.01,0.99],type:'spring',stiffness:120,damping:15},className:\"bg-white/90 backdrop-blur-lg p-6 sm:p-8 lg:p-10 rounded-3xl shadow-2xl border border-purple-200/30 mt-8\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl sm:text-2xl font-bold text-purple-900 mb-6 text-right\",children:\"\\u0642\\u0627\\u0626\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0644\\u0641\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 sm:space-x-reverse mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:exportToExcel,className:\"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all duration-300 shadow-md hover:shadow-lg\",children:\"\\u062A\\u0635\\u062F\\u064A\\u0631 \\u0625\\u0644\\u0649 Excel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filterActive,onChange:e=>setFilterActive(e.target.checked),className:\"mr-2 h-5 w-5 text-purple-500 focus:ring-purple-500 border-gray-300 rounded\"}),\"\\u0646\\u0634\\u0637\"]}),/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:filterCompleted,onChange:e=>setFilterCompleted(e.target.checked),className:\"mr-2 h-5 w-5 text-purple-500 focus:ring-purple-500 border-gray-300 rounded\"}),\"\\u0645\\u0643\\u062A\\u0645\\u0644\"]})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:searchEmployeeCode,onChange:e=>setSearchEmployeeCode(e.target.value),placeholder:\"\\u0628\\u062D\\u062B \\u0628\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\",className:\"flex-1 p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"})]}),filteredAdvances.length===0?/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-right\",children:\"\\u0644\\u0627 \\u062A\\u0648\\u062C\\u062F \\u0633\\u0644\\u0641 \\u0645\\u0633\\u062C\\u0644\\u0629\"}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-right border-separate border-spacing-y-2\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"bg-purple-100/50 text-purple-900\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0643\\u0648\\u062F \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0627\\u0633\\u0645 \\u0627\\u0644\\u0645\\u0648\\u0638\\u0641\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0634\\u0647\\u0631\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0627\\u0644\\u0642\\u0633\\u0637 \\u0627\\u0644\\u0634\\u0647\\u0631\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0627\\u0644\\u0645\\u0628\\u0644\\u063A \\u0627\\u0644\\u0645\\u062A\\u0628\\u0642\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0633\\u062F\\u0627\\u062F \\u0627\\u0644\\u0646\\u0647\\u0627\\u0626\\u064A\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0627\\u0644\\u062D\\u0627\\u0644\\u0629\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-4 rounded-lg\",children:\"\\u0625\\u062C\\u0631\\u0627\\u0621\\u0627\\u062A\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:filteredAdvances.map(advance=>/*#__PURE__*/_jsxs(\"tr\",{className:`hover:bg-purple-100/30 transition-all duration-200 rounded-lg ${advance.status==='active'?'bg-green-50/70':'bg-gray-50/70'}`,children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.employeeCode}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.employeeName}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.advanceAmount}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.advanceDate}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.installmentMonths}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.monthlyInstallment.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.remainingAmount}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.finalRepaymentDate}),/*#__PURE__*/_jsx(\"td\",{className:\"p-4 border-b border-purple-200/30\",children:advance.status==='active'?'نشط':'مكتمل'}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-4 border-b border-purple-200/30 flex space-x-2 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>openEditModal(advance),className:\"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 shadow-sm hover:shadow-md\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(advance._id),className:\"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-sm hover:shadow-md\",children:\"\\u062D\\u0630\\u0641\"})]})]},advance._id))})]})})]}),/*#__PURE__*/_jsx(AnimatePresence,{children:editModalOpen&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"fixed inset-0 flex items-center justify-center bg-black/70 z-50\",children:/*#__PURE__*/_jsxs(motion.div,{initial:{scale:0.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0.8,opacity:0},className:\"bg-white/90 backdrop-blur-lg p-6 sm:p-8 rounded-3xl shadow-2xl max-w-lg w-full border border-purple-200/30\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl sm:text-2xl font-bold text-purple-900 mb-6 text-right\",children:\"\\u062A\\u0639\\u062F\\u064A\\u0644 \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 gap-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"advanceAmount\",value:editFormData.advanceAmount,onChange:handleEditInputChange,placeholder:\"\\u0642\\u064A\\u0645\\u0629 \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\",className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"advanceDate\",value:editFormData.advanceDate,onChange:handleEditInputChange,placeholder:\"\\u062A\\u0627\\u0631\\u064A\\u062E \\u0627\\u0644\\u0633\\u0644\\u0641\\u0629\",className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"installmentMonths\",value:editFormData.installmentMonths,onChange:handleEditInputChange,placeholder:\"\\u0639\\u062F\\u062F \\u0627\\u0644\\u0623\\u0634\\u0647\\u0631\",className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:editFormData.status,onChange:handleEditInputChange,className:\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"active\",children:\"\\u0646\\u0634\\u0637\"}),/*#__PURE__*/_jsx(\"option\",{value:\"completed\",children:\"\\u0645\\u0643\\u062A\\u0645\\u0644\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between mt-6 space-x-4 space-x-reverse\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleEditSubmit,disabled:loading,className:\"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 disabled:bg-purple-400 shadow-md hover:shadow-lg\",children:\"\\u062D\\u0641\\u0638 \\u0627\\u0644\\u062A\\u0639\\u062F\\u064A\\u0644\\u0627\\u062A\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditModalOpen(false),className:\"flex-1 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-300 shadow-md hover:shadow-lg\",children:\"\\u0625\\u0644\\u063A\\u0627\\u0621\"})]})]})})}),loading&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:\"flex justify-center mt-8\",children:/*#__PURE__*/_jsx(CustomLoadingSpinner,{})}),/*#__PURE__*/_jsx(AnimatePresence,{children:showSuccessAnimation&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,scale:0.5},animate:{opacity:1,scale:1,transition:{duration:0.6,ease:[0.6,-0.05,0.01,0.99],type:'spring',stiffness:120,damping:15}},exit:{opacity:0,scale:0.5,transition:{duration:0.4,ease:'easeInOut'}},className:\"fixed inset-0 flex items-center justify-center bg-black/50 z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white/90 backdrop-blur-lg p-8 rounded-full shadow-2xl border border-purple-200/30\",children:/*#__PURE__*/_jsx(CustomCheckIcon,{})})})}),/*#__PURE__*/_jsx(ToastContainer,{position:\"top-right\",autoClose:3000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true})]})]});}export default CreateAdvance;","map":{"version":3,"names":["React","useState","useEffect","motion","AnimatePresence","axios","ToastContainer","toast","XLSX","jsx","_jsx","jsxs","_jsxs","CustomCheckIcon","div","className","initial","scale","opacity","animate","transition","duration","ease","type","stiffness","damping","exit","children","svg","fill","viewBox","stroke","strokeWidth","pathLength","rotate","strokeLinecap","strokeLinejoin","d","CustomLoadingSpinner","repeat","Infinity","AdvanceIcon","CreateAdvance","formData","setFormData","employeeCode","employeeName","advanceAmount","advanceDate","installmentMonths","loading","setLoading","showSuccessAnimation","setShowSuccessAnimation","employeeFound","setEmployeeFound","advances","setAdvances","editModalOpen","setEditModalOpen","editFormData","setEditFormData","id","status","filterActive","setFilterActive","filterCompleted","setFilterCompleted","searchEmployeeCode","setSearchEmployeeCode","fetchAdvances","response","get","process","env","REACT_APP_API_URL","headers","Authorization","localStorage","getItem","data","success","error","message","err","_err$response","_err$response$data","exportToExcel","filteredAdvances","filter","advance","matchesStatus","matchesEmployeeCode","toLowerCase","includes","map","monthlyInstallment","toFixed","remainingAmount","finalRepaymentDate","ws","utils","json_to_sheet","wb","book_new","book_append_sheet","writeFile","Date","toISOString","split","searchEmployee","prev","sanitizedEmployeeCode","String","trim","console","log","params","employee","name","_err$response2","_err$response3","_err$response4","_err$response4$data","errorMessage","handleInputChange","e","value","target","trimmedValue","handleSubmit","preventDefault","parseFloat","parseInt","post","setTimeout","_err$response5","_err$response6","_err$response7","_err$response7$data","openEditModal","_id","handleEditInputChange","handleEditSubmit","put","_err$response8","_err$response8$data","handleDelete","window","confirm","delete","_err$response9","_err$response9$data","background","repeatType","h2","y","onChange","placeholder","onClick","disabled","info","p","delay","checked","length","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover"],"sources":["/root/NileMIX-System_HR/frontend/src/components/CreateAdvance.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport axios from 'axios';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport * as XLSX from 'xlsx';\n\nconst CustomCheckIcon = () => (\n  <motion.div\n    className=\"relative h-20 w-20\"\n    initial={{ scale: 0, opacity: 0 }}\n    animate={{ scale: 1, opacity: 1, transition: { duration: 0.7, ease: [0.6, -0.05, 0.01, 0.99], type: 'spring', stiffness: 120, damping: 15 } }}\n    exit={{ scale: 0, opacity: 0, transition: { duration: 0.4, ease: 'easeInOut' } }}\n  >\n    <motion.svg\n      className=\"h-full w-full text-purple-500\"\n      fill=\"none\"\n      viewBox=\"0 0 24 24\"\n      stroke=\"currentColor\"\n      strokeWidth={3}\n      initial={{ pathLength: 0, rotate: -45 }}\n      animate={{ pathLength: 1, rotate: 0, transition: { duration: 0.9, ease: [0.6, -0.05, 0.01, 0.99] } }}\n    >\n      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M5 13l4 4L19 7\" />\n    </motion.svg>\n  </motion.div>\n);\n\nconst CustomLoadingSpinner = () => (\n  <motion.div\n    className=\"flex items-center justify-center\"\n    initial={{ opacity: 0 }}\n    animate={{ opacity: 1, transition: { duration: 0.4, ease: 'easeInOut' } }}\n    exit={{ opacity: 0, transition: { duration: 0.4, ease: 'easeInOut' } }}\n  >\n    <motion.div\n      className=\"h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full\"\n      animate={{ rotate: 360 }}\n      transition={{ duration: 1, repeat: Infinity, ease: 'linear' }}\n    />\n    <span className=\"mr-3 text-purple-500 text-base font-medium\">جارٍ التحميل...</span>\n  </motion.div>\n);\n\nconst AdvanceIcon = () => (\n  <div className=\"h-10 w-10 text-purple-500\">\n    <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\n      <path d=\"M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6\" />\n    </svg>\n  </div>\n);\n\nfunction CreateAdvance() {\n  const [formData, setFormData] = useState({\n    employeeCode: '',\n    employeeName: '',\n    advanceAmount: '',\n    advanceDate: '',\n    installmentMonths: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [showSuccessAnimation, setShowSuccessAnimation] = useState(false);\n  const [employeeFound, setEmployeeFound] = useState(null);\n  const [advances, setAdvances] = useState([]);\n  const [editModalOpen, setEditModalOpen] = useState(false);\n  const [editFormData, setEditFormData] = useState({\n    id: '',\n    advanceAmount: '',\n    advanceDate: '',\n    installmentMonths: '',\n    status: 'active',\n  });\n  const [filterActive, setFilterActive] = useState(false);\n  const [filterCompleted, setFilterCompleted] = useState(false);\n  const [searchEmployeeCode, setSearchEmployeeCode] = useState('');\n\n  useEffect(() => {\n    fetchAdvances();\n  }, []);\n\n  const fetchAdvances = async () => {\n    setLoading(true);\n    try {\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/advance/advances`, {\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      if (response.data.success) {\n        setAdvances(response.data.advances);\n      } else {\n        toast.error(response.data.message || 'فشل جلب السلف');\n      }\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'حدث خطأ أثناء جلب السلف');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const exportToExcel = () => {\n    const filteredAdvances = advances.filter((advance) => {\n      const matchesStatus =\n        (!filterActive && !filterCompleted) ||\n        (filterActive && advance.status === 'active') ||\n        (filterCompleted && advance.status === 'completed');\n      const matchesEmployeeCode = searchEmployeeCode\n        ? advance.employeeCode.toLowerCase().includes(searchEmployeeCode.toLowerCase())\n        : true;\n      return matchesStatus && matchesEmployeeCode;\n    });\n    const data = filteredAdvances.map((advance) => ({\n      'كود الموظف': advance.employeeCode,\n      'اسم الموظف': advance.employeeName,\n      'قيمة السلفة': advance.advanceAmount,\n      'تاريخ السلفة': advance.advanceDate,\n      'عدد الأشهر': advance.installmentMonths,\n      'القسط الشهري': advance.monthlyInstallment.toFixed(2),\n      'المبلغ المتبقي': advance.remainingAmount,\n      'تاريخ السداد النهائي': advance.finalRepaymentDate,\n      'الحالة': advance.status === 'active' ? 'نشط' : 'مكتمل',\n    }));\n    const ws = XLSX.utils.json_to_sheet(data);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Advances');\n    XLSX.writeFile(wb, `advances_${new Date().toISOString().split('T')[0]}.xlsx`);\n  };\n\n  const searchEmployee = async () => {\n    if (!formData.employeeCode) {\n      setEmployeeFound(null);\n      setFormData((prev) => ({ ...prev, employeeName: '' }));\n      toast.error('يرجى إدخال كود الموظف');\n      return;\n    }\n    setLoading(true);\n    const sanitizedEmployeeCode = String(formData.employeeCode).trim();\n    try {\n      console.log('Sending request to search employee with code:', sanitizedEmployeeCode);\n      console.log('API URL:', `${process.env.REACT_APP_API_URL}/api/advance/search-employee`);\n      console.log('Token:', localStorage.getItem('token'));\n      const response = await axios.get(`${process.env.REACT_APP_API_URL}/api/advance/search-employee`, {\n        params: { employeeCode: sanitizedEmployeeCode },\n        headers: { Authorization: `Bearer ${localStorage.getItem('token')}` },\n      });\n      console.log('API Response:', response.data);\n      if (response.data.success && response.data.employee && response.data.employee.name) {\n        setEmployeeFound(response.data.employee);\n        setFormData((prev) => ({ ...prev, employeeName: response.data.employee.name }));\n        toast.success(`تم العثور على الموظف: ${response.data.employee.name}`);\n      } else {\n        setEmployeeFound(null);\n        setFormData((prev) => ({ ...prev, employeeName: '' }));\n        toast.error(response.data.message || 'لم يتم العثور على الموظف');\n      }\n    } catch (err) {\n      console.error('Error in searchEmployee:', {\n        message: err.message,\n        response: err.response?.data,\n        status: err.response?.status,\n        employeeCode: sanitizedEmployeeCode,\n      });\n      setEmployeeFound(null);\n      setFormData((prev) => ({ ...prev, employeeName: '' }));\n      const errorMessage = err.response?.data?.message || 'حدث خطأ أثناء البحث عن الموظف';\n      toast.error(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    const trimmedValue = String(value).trim();\n    setFormData({ ...formData, [name]: trimmedValue });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!employeeFound) {\n      toast.error('يرجى البحث عن موظف صالح أولاً');\n      return;\n    }\n    if (!formData.advanceAmount || !formData.advanceDate || !formData.installmentMonths) {\n      toast.error('جميع الحقول مطلوبة');\n      return;\n    }\n    if (parseFloat(formData.advanceAmount) <= 0 || parseInt(formData.installmentMonths) <= 0) {\n      toast.error('قيمة السلفة وعدد الأشهر يجب أن تكون قيم إيجابية');\n      return;\n    }\n    setLoading(true);\n    try {\n      console.log('Submitting advance with data:', formData);\n      const response = await axios.post(\n        `${process.env.REACT_APP_API_URL}/api/advance/create`,\n        {\n          ...formData,\n          monthlyInstallment: parseFloat(formData.advanceAmount) / parseInt(formData.installmentMonths),\n          remainingAmount: formData.advanceAmount,\n        },\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } },\n      );\n      console.log('Create Advance Response:', response.data);\n      if (response.data.success || response.status === 204) {\n        setShowSuccessAnimation(true);\n        toast.success('تم تسجيل السلفة بنجاح');\n        setTimeout(() => {\n          setShowSuccessAnimation(false);\n          setFormData({\n            employeeCode: '',\n            employeeName: '',\n            advanceAmount: '',\n            advanceDate: '',\n            installmentMonths: '',\n          });\n          setEmployeeFound(null);\n          fetchAdvances();\n        }, 1200);\n      } else {\n        toast.error(response.data.message || 'فشل تسجيل السلفة');\n      }\n    } catch (err) {\n      console.error('Error in handleSubmit:', {\n        message: err.message,\n        response: err.response?.data,\n        status: err.response?.status,\n      });\n      toast.error(err.response?.data?.message || 'حدث خطأ أثناء تسجيل السلفة');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const openEditModal = (advance) => {\n    setEditFormData({\n      id: advance._id,\n      advanceAmount: advance.advanceAmount,\n      advanceDate: advance.advanceDate,\n      installmentMonths: advance.installmentMonths,\n      status: advance.status,\n    });\n    setEditModalOpen(true);\n  };\n\n  const handleEditInputChange = (e) => {\n    const { name, value } = e.target;\n    const trimmedValue = String(value).trim();\n    setEditFormData({ ...editFormData, [name]: trimmedValue });\n  };\n\n  const handleEditSubmit = async (e) => {\n    e.preventDefault();\n    if (!editFormData.advanceAmount || !editFormData.advanceDate || !editFormData.installmentMonths || !editFormData.status) {\n      toast.error('جميع الحقول مطلوبة');\n      return;\n    }\n    if (parseFloat(editFormData.advanceAmount) <= 0 || parseInt(editFormData.installmentMonths) <= 0) {\n      toast.error('قيمة السلفة وعدد الأشهر يجب أن تكون قيم إيجابية');\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.put(\n        `${process.env.REACT_APP_API_URL}/api/advance/update/${editFormData.id}`,\n        {\n          advanceAmount: editFormData.advanceAmount,\n          advanceDate: editFormData.advanceDate,\n          installmentMonths: editFormData.installmentMonths,\n          status: editFormData.status,\n        },\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } },\n      );\n      if (response.data.success) {\n        toast.success('تم تعديل السلفة بنجاح');\n        setEditModalOpen(false);\n        fetchAdvances();\n      } else {\n        toast.error(response.data.message || 'فشل تعديل السلفة');\n      }\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'حدث خطأ أثناء تعديل السلفة');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('هل أنت متأكد من حذف هذه السلفة؟')) {\n      return;\n    }\n    setLoading(true);\n    try {\n      const response = await axios.delete(\n        `${process.env.REACT_APP_API_URL}/api/advance/delete/${id}`,\n        { headers: { Authorization: `Bearer ${localStorage.getItem('token')}` } },\n      );\n      if (response.data.success) {\n        toast.success('تم حذف السلفة بنجاح');\n        fetchAdvances();\n      } else {\n        toast.error(response.data.message || 'فشل حذف السلفة');\n      }\n    } catch (err) {\n      toast.error(err.response?.data?.message || 'حدث خطأ أثناء حذف السلفة');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const filteredAdvances = advances.filter((advance) => {\n    const matchesStatus =\n      (!filterActive && !filterCompleted) ||\n      (filterActive && advance.status === 'active') ||\n      (filterCompleted && advance.status === 'completed');\n    const matchesEmployeeCode = searchEmployeeCode\n      ? advance.employeeCode.toLowerCase().includes(searchEmployeeCode.toLowerCase())\n      : true;\n    return matchesStatus && matchesEmployeeCode;\n  });\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-600 via-blue-500 to-indigo-600 p-4 sm:p-6 lg:p-8 font-noto-sans-arabic dir=rtl overflow-auto relative\">\n      {/* Dynamic Background Animation */}\n      <motion.div\n        className=\"absolute inset-0 bg-gradient-to-br from-purple-600/30 via-blue-500/30 to-indigo-600/30\"\n        animate={{\n          background: [\n            'linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(59, 130, 246, 0.3), rgba(79, 70, 229, 0.3))',\n            'linear-gradient(135deg, rgba(139, 92, 246, 0.4), rgba(59, 130, 246, 0.4), rgba(79, 70, 229, 0.4))',\n            'linear-gradient(135deg, rgba(139, 92, 246, 0.3), rgba(59, 130, 246, 0.3), rgba(79, 70, 229, 0.3))',\n          ],\n        }}\n        transition={{ duration: 10, repeat: Infinity, repeatType: 'reverse', ease: 'easeInOut' }}\n      />\n      <div className=\"container mx-auto max-w-7xl relative z-10\">\n        <motion.h2\n          initial={{ opacity: 0, y: -20 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, ease: [0.6, -0.05, 0.01, 0.99], type: 'spring', stiffness: 120, damping: 15 }}\n          className=\"text-3xl sm:text-4xl lg:text-5xl font-extrabold text-white mb-8 sm:mb-10 text-right tracking-tight drop-shadow-lg\"\n        >\n          إنشاء سلفة\n        </motion.h2>\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, ease: [0.6, -0.05, 0.01, 0.99], type: 'spring', stiffness: 120, damping: 15 }}\n          className=\"bg-white/90 backdrop-blur-lg p-6 sm:p-8 lg:p-10 rounded-3xl shadow-2xl border border-purple-200/30\"\n        >\n          <div className=\"flex items-center space-x-4 space-x-reverse mb-6\">\n            <AdvanceIcon />\n            <h3 className=\"text-xl sm:text-2xl font-bold text-purple-900\">تسجيل سلفة جديدة</h3>\n          </div>\n          <div className=\"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 sm:space-x-reverse mb-6\">\n            <input\n              type=\"text\"\n              name=\"employeeCode\"\n              value={formData.employeeCode}\n              onChange={handleInputChange}\n              placeholder=\"كود الموظف\"\n              className=\"flex-1 p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n            />\n            <button\n              onClick={searchEmployee}\n              disabled={loading}\n              className=\"px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 disabled:bg-purple-400 shadow-md hover:shadow-lg\"\n            >\n              بحث\n            </button>\n            <button\n              onClick={() => {\n                setFormData({\n                  employeeCode: '',\n                  employeeName: '',\n                  advanceAmount: '',\n                  advanceDate: '',\n                  installmentMonths: '',\n                });\n                setEmployeeFound(null);\n                toast.info('تم إعادة تعيين النموذج');\n              }}\n              className=\"px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-300 shadow-md hover:shadow-lg\"\n            >\n              إعادة تعيين\n            </button>\n          </div>\n          {employeeFound && (\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"text-green-600 mb-6 text-right font-medium\"\n            >\n              تم العثور على الموظف: {employeeFound.name}\n            </motion.p>\n          )}\n          {!employeeFound && formData.employeeCode && !loading && (\n            <motion.p\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              className=\"text-red-600 mb-6 text-right font-medium\"\n            >\n              لم يتم العثور على موظف بهذا الكود\n            </motion.p>\n          )}\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n            <input\n              type=\"text\"\n              name=\"employeeName\"\n              value={formData.employeeName}\n              placeholder=\"اسم الموظف\"\n              disabled\n              className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none text-right bg-gray-100/50 backdrop-blur-sm shadow-sm\"\n            />\n            <input\n              type=\"number\"\n              name=\"advanceAmount\"\n              value={formData.advanceAmount}\n              onChange={handleInputChange}\n              placeholder=\"قيمة السلفة\"\n              className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n            />\n            <input\n              type=\"date\"\n              name=\"advanceDate\"\n              value={formData.advanceDate}\n              onChange={handleInputChange}\n              placeholder=\"تاريخ السلفة\"\n              className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n            />\n            <input\n              type=\"number\"\n              name=\"installmentMonths\"\n              value={formData.installmentMonths}\n              onChange={handleInputChange}\n              placeholder=\"عدد الأشهر\"\n              className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n            />\n          </div>\n          <button\n            onClick={handleSubmit}\n            disabled={loading || !employeeFound}\n            className=\"mt-6 w-full px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 disabled:bg-purple-400 shadow-md hover:shadow-lg\"\n          >\n            تسجيل السلفة\n          </button>\n        </motion.div>\n        <motion.div\n          initial={{ opacity: 0, y: 30 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.6, delay: 0.2, ease: [0.6, -0.05, 0.01, 0.99], type: 'spring', stiffness: 120, damping: 15 }}\n          className=\"bg-white/90 backdrop-blur-lg p-6 sm:p-8 lg:p-10 rounded-3xl shadow-2xl border border-purple-200/30 mt-8\"\n        >\n          <h3 className=\"text-xl sm:text-2xl font-bold text-purple-900 mb-6 text-right\">قائمة السلف</h3>\n          <div className=\"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-4 sm:space-x-reverse mb-6\">\n            <button\n              onClick={exportToExcel}\n              className=\"px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-all duration-300 shadow-md hover:shadow-lg\"\n            >\n              تصدير إلى Excel\n            </button>\n            <div className=\"flex items-center space-x-4 space-x-reverse\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={filterActive}\n                  onChange={(e) => setFilterActive(e.target.checked)}\n                  className=\"mr-2 h-5 w-5 text-purple-500 focus:ring-purple-500 border-gray-300 rounded\"\n                />\n                نشط\n              </label>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={filterCompleted}\n                  onChange={(e) => setFilterCompleted(e.target.checked)}\n                  className=\"mr-2 h-5 w-5 text-purple-500 focus:ring-purple-500 border-gray-300 rounded\"\n                />\n                مكتمل\n              </label>\n            </div>\n            <input\n              type=\"text\"\n              value={searchEmployeeCode}\n              onChange={(e) => setSearchEmployeeCode(e.target.value)}\n              placeholder=\"بحث بكود الموظف\"\n              className=\"flex-1 p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n            />\n          </div>\n          {filteredAdvances.length === 0 ? (\n            <p className=\"text-gray-600 text-right\">لا توجد سلف مسجلة</p>\n          ) : (\n            <div className=\"overflow-x-auto\">\n              <table className=\"w-full text-right border-separate border-spacing-y-2\">\n                <thead>\n                  <tr className=\"bg-purple-100/50 text-purple-900\">\n                    <th className=\"p-4 rounded-lg\">كود الموظف</th>\n                    <th className=\"p-4 rounded-lg\">اسم الموظف</th>\n                    <th className=\"p-4 rounded-lg\">قيمة السلفة</th>\n                    <th className=\"p-4 rounded-lg\">تاريخ السلفة</th>\n                    <th className=\"p-4 rounded-lg\">عدد الأشهر</th>\n                    <th className=\"p-4 rounded-lg\">القسط الشهري</th>\n                    <th className=\"p-4 rounded-lg\">المبلغ المتبقي</th>\n                    <th className=\"p-4 rounded-lg\">تاريخ السداد النهائي</th>\n                    <th className=\"p-4 rounded-lg\">الحالة</th>\n                    <th className=\"p-4 rounded-lg\">إجراءات</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {filteredAdvances.map((advance) => (\n                    <tr\n                      key={advance._id}\n                      className={`hover:bg-purple-100/30 transition-all duration-200 rounded-lg ${\n                        advance.status === 'active' ? 'bg-green-50/70' : 'bg-gray-50/70'\n                      }`}\n                    >\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.employeeCode}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.employeeName}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.advanceAmount}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.advanceDate}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.installmentMonths}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.monthlyInstallment.toFixed(2)}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.remainingAmount}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.finalRepaymentDate}</td>\n                      <td className=\"p-4 border-b border-purple-200/30\">{advance.status === 'active' ? 'نشط' : 'مكتمل'}</td>\n                      <td className=\"p-4 border-b border-purple-200/30 flex space-x-2 space-x-reverse\">\n                        <button\n                          onClick={() => openEditModal(advance)}\n                          className=\"px-3 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 shadow-sm hover:shadow-md\"\n                        >\n                          تعديل\n                        </button>\n                        <button\n                          onClick={() => handleDelete(advance._id)}\n                          className=\"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-all duration-300 shadow-sm hover:shadow-md\"\n                        >\n                          حذف\n                        </button>\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          )}\n        </motion.div>\n        <AnimatePresence>\n          {editModalOpen && (\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              className=\"fixed inset-0 flex items-center justify-center bg-black/70 z-50\"\n            >\n              <motion.div\n                initial={{ scale: 0.8, opacity: 0 }}\n                animate={{ scale: 1, opacity: 1 }}\n                exit={{ scale: 0.8, opacity: 0 }}\n                className=\"bg-white/90 backdrop-blur-lg p-6 sm:p-8 rounded-3xl shadow-2xl max-w-lg w-full border border-purple-200/30\"\n              >\n                <h3 className=\"text-xl sm:text-2xl font-bold text-purple-900 mb-6 text-right\">تعديل السلفة</h3>\n                <div className=\"grid grid-cols-1 gap-4\">\n                  <input\n                    type=\"number\"\n                    name=\"advanceAmount\"\n                    value={editFormData.advanceAmount}\n                    onChange={handleEditInputChange}\n                    placeholder=\"قيمة السلفة\"\n                    className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n                  />\n                  <input\n                    type=\"date\"\n                    name=\"advanceDate\"\n                    value={editFormData.advanceDate}\n                    onChange={handleEditInputChange}\n                    placeholder=\"تاريخ السلفة\"\n                    className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n                  />\n                  <input\n                    type=\"number\"\n                    name=\"installmentMonths\"\n                    value={editFormData.installmentMonths}\n                    onChange={handleEditInputChange}\n                    placeholder=\"عدد الأشهر\"\n                    className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n                  />\n                  <select\n                    name=\"status\"\n                    value={editFormData.status}\n                    onChange={handleEditInputChange}\n                    className=\"p-3 border border-purple-300/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 text-right bg-white/70 backdrop-blur-sm transition-all duration-300 shadow-sm hover:shadow-md\"\n                  >\n                    <option value=\"active\">نشط</option>\n                    <option value=\"completed\">مكتمل</option>\n                  </select>\n                </div>\n                <div className=\"flex justify-between mt-6 space-x-4 space-x-reverse\">\n                  <button\n                    onClick={handleEditSubmit}\n                    disabled={loading}\n                    className=\"flex-1 px-4 py-3 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all duration-300 disabled:bg-purple-400 shadow-md hover:shadow-lg\"\n                  >\n                    حفظ التعديلات\n                  </button>\n                  <button\n                    onClick={() => setEditModalOpen(false)}\n                    className=\"flex-1 px-4 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-all duration-300 shadow-md hover:shadow-lg\"\n                  >\n                    إلغاء\n                  </button>\n                </div>\n              </motion.div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        {loading && (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            exit={{ opacity: 0 }}\n            className=\"flex justify-center mt-8\"\n          >\n            <CustomLoadingSpinner />\n          </motion.div>\n        )}\n        <AnimatePresence>\n          {showSuccessAnimation && (\n            <motion.div\n              initial={{ opacity: 0, scale: 0.5 }}\n              animate={{ opacity: 1, scale: 1, transition: { duration: 0.6, ease: [0.6, -0.05, 0.01, 0.99], type: 'spring', stiffness: 120, damping: 15 } }}\n              exit={{ opacity: 0, scale: 0.5, transition: { duration: 0.4, ease: 'easeInOut' } }}\n              className=\"fixed inset-0 flex items-center justify-center bg-black/50 z-50\"\n            >\n              <div className=\"bg-white/90 backdrop-blur-lg p-8 rounded-full shadow-2xl border border-purple-200/30\">\n                <CustomCheckIcon />\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n        <ToastContainer position=\"top-right\" autoClose={3000} hideProgressBar={false} closeOnClick pauseOnHover />\n      </div>\n    </div>\n  );\n}\n\nexport default CreateAdvance;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}